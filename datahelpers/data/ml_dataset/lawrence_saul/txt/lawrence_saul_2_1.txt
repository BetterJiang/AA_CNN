IEEEJOURNALONSELECTEDAREASINCOMMUNICATIONS,VOL.24,NO.12,DECEMBER20062273IDES:AnInternetDistanceEstimationServiceforLargeNetworksYunMao,StudentMember,IEEE,LawrenceK.Saul,Member,IEEE,andJonathanM.Smith,Fellow,IEEEAbstract—Theresponsivenessofnetworkedapplicationsislimitedbycommunicationsdelays,makingnetworkdistanceanimportantparameterinoptimizingthechoiceofcommunicationspeers.Sinceaccurateglobalsnapshotsaredifﬁcultandexpensivetogatherandmaintain,itisdesirabletousesamplingtechniquesintheInternettopredictunknownnetworkdistancesfromasetofpartiallyobservedmeasurements.Thispapermakesthreecontributions.First,wepresentamodelforrepresentingandpredictingdistancesinlarge-scalenetworksbymatrixfactorizationwhichcanmodelsuboptimalandasymmetricroutingpolicies,animprovementonpreviousapproaches.Second,wedescribetwoalgorithms—singularvaluedecompositionandnon-negativematrixfactorization—forrep-resentingamatrixofnetworkdistancesastheproductoftwosmallermatrices.Third,basedonourmodelandalgorithms,wehavedesignedandimplementedascalablesystem—InternetDistanceEstimationService(IDES)—thatpredictslargenumbersofnetworkdistancesfromlimitedsamplesofInternetmeasure-ments.Extensivesimulationsonreal-worlddatasetsshowthatIDESleadstomoreaccurate,efﬁcientandrobustpredictionsoflatenciesinlarge-scalenetworksthanexistingapproaches.IndexTerms—Matrixfactorization,networkdistance,networkperformance.I.INTRODUCTIONWIDE-AREAdistributedapplicationshaveevolvedcon-siderablybeyondthetraditionalclient-servermodel,inwhichaclientcommunicateswithasingleserver.Incontentdistributionnetworks(CDNs),peer-to-peerdistributedhashta-bles(DHTs)[1]–[4],andoverlayrouting[5],nodesoftenhaveachoiceofcommunicationpeers.Exploitingthischoicecangreatlyimproveperformanceifrelevantnetworkdistancesareknown.1Forexample,inaCDN,anoptimizedclientcandown-loadWebobjectsfromtheparticularmirrorsitetowhichithasthehighestbandwidth.Likewise,inDHTconstruction,apeercanroutelookuprequeststothepeer(amongthosethatareclosertothetargetinthevirtualoverlaynetwork)withthelowestlatencyintheInternetprotocol(IP)underlaynetwork.ManuscriptreceivedOctober1,2005;revisedJune21,2006.TheworkofL.SaulwassupportedinpartbytheNationalScienceFoundationunderGrant0238323.TheworkofY.MaowassupportedinpartbytheDefenseAdvancedResearchProjectsAgency(DARPA)underContractF30602-99-1-0512.TheauthorsarewiththeDepartmentofComputerandInformationScience,UniversityofPennsylvania,Philadelphia,PA19104USA(e-mail:maoy@cis.upenn.edu;lsaul@cis.upenn.edu;jms@cis.upenn.edu).DigitalObjectIdentiﬁer10.1109/JSAC.2006.8840261Networkdistanceistraditionallyknownastheround-triptime(RTT)be-tweentwohosts.However,inthispaper,unlessspeciﬁedotherwise,thedeﬁni-tionisgeneralizedtoanytypeofnetworkmeasurementbetweennodes,whichmayormaynotbesymmetric.Exactknowledgeofnetworkdistances,suchasthatobtainedfromon-demandnetworkmeasurements,isexpensiveandtime-consumingtogatherandmaintain,especiallyatscale.Thus,ahighlypromisingapproachistoconstructamodelthatcanpre-dictunknownnetworkdistancesfromasetofpartiallyobservedmeasurements[6]–[11].Manypreviouslyproposedmodelsarebasedontheembed-dingofhostpositionsinalow-dimensionalspace,withnetworkdistancesestimatedbyEuclideandistances.Suchmodels,how-ever,sharecertainlimitations.Inparticular,theycannotrepre-sentnetworkswithcomplexroutingpolicies,suchassuboptimalrouting2orasymmetricrouting,sinceEuclideandistancessat-isfythetriangleinequalityandareinherentlysymmetric.OntheInternet,suchroutesarequitecommon[12]–[14],andmodelsthatdonottakethemintoaccountyieldinaccuratepredictionsofnetworkdistances.Ourmodelisbasedonmatrixfactorizationforrepresentingandpredictingdistancesinlarge-scalenetworks.Theessentialideaistoapproximatealargematrixwhoseelementsrepresentpairwisedistancesbytheproductoftwosmallermatrices.Suchamodelcanbeviewedasaformofdimensionalityreduction.Modelsbasedonmatrixfactorizationdonotsufferfromthelimitationsofpreviouswork:inparticular,theycanrepresentdistancesthatviolatethetriangleinequality,aswellasasym-metricdistances.Twoalgorithms—singularvaluedecomposi-tion(SVD)andnon-negativematrixfactorization(NMF)—arepresentedforlearningmodelsofthisform.Weevaluatetheadvantagesanddisadvantagesofeachalgorithmforlearningcompactmodelsofnetworkdistances.Thebasicmodelwasintroducedinanearlierpaper[15].Thecontributionsofthepresentpaperarereﬁnementsofthemodel,reﬁnedalgorithms,andmorethoroughevaluationsoftheInternetDistanceEstima-tionService(IDES).Inparticular,weaddressthequestionsoftheimpactofbothlandmarkplacementandmeasurementerroronIDESperformance.Therestofthispaperisorganizedasfollows.SectionIIreviewspreviousworkbasedonthelow-dimensionalembed-dingofhostpositionsinEuclideanspace.SectionIIIpresentsthemodelformatrixfactorizationofnetworkdistances.TheSVDandNMFalgorithmsforlearningthesemodelsfromnetworkmeasurementsarepresentedandevaluatedinSectionIV.SectionVproposesanarchitecturetoestimatedistancesrequiredbyanarbitraryhostfromlowdimensionalreconstructions.ThearchitectureisevaluatedinSectionVI.Finally,SectionVIIsummarizesthispaper.2Withsuboptimalroutingpolicies,thenetworkdistancebetweentwoendhostsdoesnotnecessarilyrepresenttheshortestpathinthenetwork.SuchroutingpoliciesexistwidelyintheInternetforvarioustechnical,political,andeconomicreasons.0733-8716/$20.00©2006IEEEAuthorized licensed use limited to: Univ of  Calif San Diego. Downloaded on July 23, 2009 at 19:35 from IEEE Xplore.  Restrictions apply. 2274IEEEJOURNALONSELECTEDAREASINCOMMUNICATIONS,VOL.24,NO.12,DECEMBER2006II.NETWORKEMBEDDINGSOnewaytopredictnetworkdistancebetweenarbitraryIn-ternetendhostsistoassigneachhosta“position”inaﬁnite-di-mensionalvectorspace.Thiscanbedoneatthecostofalimitednumberofnetworkmeasurementstoasetofwell-positionedin-frastructurenodes(alsoknownaslandmarkorbeaconnodes),orotherpeernodes.Insuchamodel,apairofhostscanesti-matethenetworkdistancebetweenthembyapplyingadistancefunctiontotheirpositions,withoutdirectnetworkmeasurement.MostpreviousworkonthesemodelshasrepresentedthehostpositionsbycoordinatesinEuclideanspaceandadoptedEu-clideandistanceasthedistancefunction.Wedeﬁnetheproblemformallyasfollows.Supposetherearehostsinthenetwork.Thepairwisenetworkdistancematrixisamatrix,suchthatisthenetworkdistancefromto.Anetworkembeddingisamappingsuchthat(1)whereistheestimatednetworkdistancefromtoandisthepositioncoordinateofasa-dimensionalrealvector.Wesimplifythecoordinatenotationfromto.ThenetworkdistancebetweentwohostsandisestimatedbytheEuclideandistanceoftheircoordinates(2)Themainprobleminconstructinganetworkembeddingistocomputethepositionvectorsforallhostsfromapartiallyobserveddistancematrix.Anumberoflearningalgorithmshavebeenproposedtosolvethisproblem,whichwedescribeinthenextsection.A.PreviousWorkTheﬁrstworkinthenetworkembeddingareawasdonebyNgandZhang[10],whoseGlobalNetworkPositioning(GNP)Systemembeddednetworkhostsinalow-dimensionalEu-clideanspace.Manyalgorithmsweresubsequentlyproposedtocalculatethecoordinatesofnetworkhosts.GNPusesasimplexdownhillmethodtominimizethesumofrelativeerrors(3)ThedrawbackofGNPisthatthesimplexdownhillmethodcon-vergesslowly,andtheﬁnalresultsdependontheinitialvaluesofthesearch.PIC[6]appliesthesamealgorithmtothesumofsquaredrelativeerrorsandstudiessecurity-relatedissues.Coxetal.proposedtheVivaldialgorithm[7],[16],basedonananalogytoanetworkofphysicalsprings.Inthisapproach,theproblemofminimizingthesumoferrorsisrelatedtotheproblemofminimizingthepotentialenergyofaspringsystem.Vivaldihastwomainadvantages:itisadistributedalgorithm,anditdoesnotrequirelandmarknodes.Limetal.[9]andTangetal.[11]independentlyproposedmodelsbasedonLipschitzembeddingsandprincipalcompo-Fig.1.Fourhostsinasimplenetworktopology.nentanalysis(PCA).Thesemodelsbeginbyembeddingthehostsinan-dimensionalspace,wherethecoordinatesofthehostaregivenbyitsdistancestoland-marknodes.Thisso-calledLipschitzembeddinghastheprop-ertythathostswithsimilardistancestootherhostsarelocatednearbyinthe-dimensionalspace.Toreducethedimension-ality,thehostpositionsinthis-dimensionalspacearethenprojectedintothe-dimensionalsubspaceofmaximumvari-ancebyPCA.Alinearnormalizationisusedtofurthercalibratetheresults,yieldingtheﬁnalhostpositions.B.LimitationsEuclideandistancesareinherentlysymmetric;theyalsosat-isfythetriangleinequality.Thus,inanynetworkembeddingFirst,thetriangleinequalitypropertyisinconsistentwithob-servednetworkdistances.OntheInternet,studiesindicatethatasmanyas40%ofnodepairsofreal-worlddatasetshaveashorterpaththroughanalternatenode[11],[12].Second,unlessthedeﬁnitionofnetworkdistancesisRTT,thesymmetryprop-ertyalsodisagreeswiththeobservation.Previousstudyshowsthatasymmetricroutingisquitecommon[14];evenforthesamelink,theupstreamanddownstreamcapacitiesmaybeverydif-ferent[13].Inadditiontotheselimitations,low-dimensionalembeddingsofhostpositionscannotalwaysmodeldistancesinnetworkswheretherearepairsofnodesthatdonothaveadirectpathbe-tweenthem,evenifthedistancesaresymmetricandsatisfythetriangleinequality.Fig.1illustratesasimplenetworktopologyinwhichfourhostsindifferentautonomoussystemsarecon-nectedwithunitdistancetotheirneighbors.Anintuitivetwo-di-mensionalembeddingisalsoshown.Inthegivenembedding,theestimateddistancesare,buttherealdistancesare.ItisprovablethatthereexistsnoEuclideanspaceembedding(ofanydimensionality)thatcanexactlyreconstructthedistancesinthisnetwork.Similarcasesariseinnetworkswithtree-liketopologies.III.DISTANCEMATRIXFACTORIZATIONThelimitationsofpreviousmodelsleadustoconsideradif-ferentframeworkforcompactlyrepresentingnetworkdistances.SupposethattwonearbyhostshavesimilardistancestoalltheAuthorized licensed use limited to: Univ of  Calif San Diego. Downloaded on July 23, 2009 at 19:35 from IEEE Xplore.  Restrictions apply. MAOetal.:IDES:ANINTERNETDISTANCEESTIMATIONSERVICEFORLARGENETWORKS2275otherhostsinthenetwork.Inthiscase,theircorrespondingrowsinthedistancematrixwillbenearlyidentical.Moregenerally,theremaybemanyrowsinthedistancematrixthatareequalornearlyequaltolinearcombinationsofotherrows.Recallfromlinearalgebrathatanmatrixwhoserowsarenotlinearlyindependenthasrankstrictlylessthanandcanbeexpressedastheproductoftwosmallermatrices.Withthisinmind,weseekanapproximatefactorizationofthedistancematrix,givenbywhereandarematriceswith.Fromsuchamodel,wecanestimatethenetworkdistancefromtoby,whereisthethrowvectorofthematrixandisthethrowvectorofthematrix.Moreformally,foranetworkwithdistancematrix,wedeﬁneadistancematrixfactorizationastwomappingsandanapproximatedistancefunctioncomputedbyAsshorthand,wedenoteasandas,sothatwecanwritetheabovedistancecomputationas(4)NotethatincontrasttothemodelinSectionII,whichmapseachhosttoonepositionvector,ourmodelassociatestwovec-torswitheachhost.Wecalltheoutgoingvectorandtheincomingvectorfor.Theestimateddistancefromtoissimplythedotproductbetweentheoutgoingvectorofandtheincomingvectorof.Applyingthismodelofnetworkdistancesindistributedap-plicationsisstraightforward.Forexample,considertheproblemofmirrorselection.Tolocatetheclosestserveramongseveralmirrorcandidates,aclientcanretrievetheoutgoingvectorsofthemirrorsfromadirectoryserver,calculatethedotproductoftheseoutgoingvectorswithitsownincomingvector,andchoosethemirrorthatyieldsthesmallestestimateofnetworkdistance(i.e.,thesmallestdotproduct).Ourmodelforrepresentingnetworkdistancesbymatrixfactorizationovercomescertainlimitationsofmodelsbasedonlow-dimensionalembeddings.Inparticular,distancescomputedinthiswayarenotconstrainedtosatisfythetriangleinequality.Themainassumptionofourmodelisthatmanyrowsinthedistancematrixarelinearlydependent,ornearlyso.Thisislikelytooccurwheneverthereareclustersofnearbynodesinthenetworkwhichhavesimilardistancestodistantnodes.Inthiscase,thedistancematrixwillbewellapproximatedbytheproductoftwosmallermatrices.IV.DISTANCERECONSTRUCTIONInthissection,weinvestigatehowtoestimateoutgoingandincomingvectorsandforeachhostfromthedistancematrix.Wealsoexaminetheaccuracyofmodelsthatapprox-imatethetruedistancematrixbytheproductoftwosmallerma-tricesinthisway.Thedistancematrixcanbeviewed3asstoringrowvectorsin-dimensionalspace.Factoringthismatrixisessentiallyaprobleminlineardimensionalityreduc-tion,wherestoresbasisvectorsandstoresthelinearco-efﬁcientsthatbestreconstructeachrowvectorof.Wepresenttwoalgorithmsformatrixfactorizationthatsolvethisprobleminlineardimensionalityreduction.A.SingularValueDecomposition(SVD)Andistancematrixcanbefactoredintothreema-tricesbyitsSVD,oftheformwhereandareorthogonalmatricesandisandiagonalmatrixwithnon-negativeelements(arrangedindecreasingorder).Letand,where.Itiseasytoseethat.Thus,SVDyieldsanexactfactorization,wherethematricesandarethesamesizeas.WecanalsouseSVD,however,toobtainanapproximatefactorizationofthedistancematrixintotwosmallermatrices.Inparticular,supposethatonlyafewofthediagonalelementsofthematrixareappreciableinmagnitude.Deﬁnethematrices(5)(6)whereand.Theproductisalow-rankapproximationtothedistancematrix;ifthedistancematrixisitselfofrankorless,asindicatedbyfor,thentheapproximationwillinfactbeexact.Thelow-rankapproximationobtainedfromSVDcanbeviewedasminimizingthesquarederrorfunction(7)withrespecttoand.Equations(5)and(6)computetheglobalminimumofthiserrorfunction.MatrixfactorizationbySVDisrelatedtoPCA[17]ontherowvectors.Principalcomponentsoftherowvectorsareob-tainedfromtheorthogonaleigenvectorsoftheircorrelationma-trix;eachrowvectorcanbeexpressedasalinearcombinationoftheseeigenvectors.Thediagonalvaluesofmeasurethesig-niﬁcanceofthecontributionfromeachprincipalcomponent.InpreviousworkonembeddingofhostpositionsbyPCA,suchasICS[9]andVirtualLandmark[11],theﬁrstrowsofthematrixwereusedascoordinatesforthehosts,whilediscardingthe3Notethatdoesnothavetobeasquarematrixofpairwisedistances.Itcanbethedistancematrixfromonesetofhoststoanothersetofhosts,whichmayormaynotoverlapwitheachother.Inthiscase,containstheoutgoingvectorsforandcontainstheincomingvectorsfor.Forsimplicity,though,weconsiderthecaseinwhatfollows.Authorized licensed use limited to: Univ of  Calif San Diego. Downloaded on July 23, 2009 at 19:35 from IEEE Xplore.  Restrictions apply. 2276IEEEJOURNALONSELECTEDAREASINCOMMUNICATIONS,VOL.24,NO.12,DECEMBER2006informationinthematricesand.Bycontrast,ourapproachuses,,andtocomputeoutgoingandincomingvectorsforeachhost.WeusethetopologyinFig.1asanexampletoshowhowthealgorithmworks.ThedistancematrixisWeobtaintheSVDresultasNotethat.Therefore,anexactfactorizationexistswithOnecanverifyinthiscasethatthereconstructeddistancematrixisequaltotheoriginaldistancematrix.B.Non-NegativeMatrixFactorization(NMF)Non-negativematrixfactorization(NMF)[18]isanotherformoflineardimensionalityreductionthatcanbeappliedtothedistancematrix.ThegoalofNMFistominimizethesameerrorfunctionasin(7),butsubjecttotheconstraintthatandarenon-negativematrices.IncontrasttoSVD,NMFguaranteesthattheapproximatelyreconstructeddistancesarenon-negative:.TheerrorfunctionforNMFcanbeminimizedbyaniterativealgorithm.Comparedwithgradientdescentandthesimplexdownhillmethod,however,thealgo-rithmforNMFconvergesmuchfasteranddoesnotinvolveanyheuristics,suchaschoosingastepsize.Theonlyconstraintonthealgorithmisthatthetruenetworkdistancesmustthemselvesbenon-negative,;thisisgenerallytrueandholdsforalltheexamplesweconsider.Thealgorithmtakesasinputinitial(random)matricesandandupdatestheminanalternatingfashion.TheupdaterulesforeachiterationareItisknownthattheseupdaterulesconvergemonotonicallytostationarypointsoftheerrorfunction(7).Ourexperienceshowsthattwohundrediterationssufﬁcetoconvergetoalocalmin-imum.OnemajoradvantageofNMFoverSVDisthatitisstraight-forwardtomodifyNMFtohandlemissingentriesinthedistancematrix.Forvariousreasons,asmallnumberofelementsinmaybeunavailable.SVDcanproceedwithmissingvaluesifweeliminatetherowsandcolumnsinthatcontainthem,butdoingsowillleavethecorrespondinghostpositionsunknown.NMFcancopewithmissingvaluesifweslightlychangetheupdaterules.Supposeisabinarymatrix,whereindicatesisknownandindicatesismissing.Themodiﬁedupdaterulesare(8)(9)Theseupdaterulesconvergetolocalminimaoftheerrorfunc-tion.C.EvaluationWeevaluatedtheaccuracyofnetworkdistancematricesmod-eledbySVDandNMFandcomparedtheresultstothoseofPCAfromtheLipschitzembeddingsusedbyVirtualLandmark[11]andICS[9].WedidnotevaluatethesimplexdownhillalgorithmusedinGNPbecausewhileitsaccuracyisnotobviouslybetterthanLipschitzembedding,itismuchmoreexpensive,requiringhoursofcomputationonlargedatasets[11].Accuracieswereevaluatedbythemodiﬁedrelativeerror(10)wherethemin-operationinthedenominatorservestoincreasethepenaltyforunderestimatednetworkdistances.1)DataSets:Weusedthefollowingﬁvereal-worlddatasetsinsimulation.Partsofthedatasetswereﬁlteredouttoeliminatemissingelementsinthedistancematrices(sincenoneofthealgorithmsexceptNMFcancopewithmissingdata).ThenetworkdistancesinthedatasetsareRTTbetweenpairsofInternethosts.RTTissymmetricbetweentwoendhosts,butitdoesviolatethetriangleinequalityandalsogiverisetoothereffects(describedinSectionII-B)thatarepoorlymodeledbynetworkembeddingsinEuclideanspace.44Notethattheproposedmodelcanbeappliedtoanytypeofnetworkmea-surementbetweennodes,suchasone-waylatency,lossrate,andbandwidth,butwehaveonlyexperimentallyvalidatedthemodelforRTT.Validationondatasetsthatusedifferentmetricsasthedistancesisstillanopenproblemandwillbeconsideredinourfuturework.Authorized licensed use limited to: Univ of  Calif San Diego. Downloaded on July 23, 2009 at 19:35 from IEEE Xplore.  Restrictions apply. MAOetal.:IDES:ANINTERNETDISTANCEESTIMATIONSERVICEFORLARGENETWORKS2277Fig.2.CumulativedistributionofrelativeerrorbySVDovervariousdatasets,.•NLANR:TheNLANRActiveMeasurementProject[19]collectsavarietyofmeasurementsbetweenallpairsofpar-ticipatingnodes.ThenodesaremainlyatNSFsupportedHPCsites,withabout10%outsidetheU.S.ThedatasetweusedwascollectedonJanuary30,2003,consistingofmeasurementsofa110110clique.Eachhostwaspingedonceperminute,andnetworkdistancewastakenastheminimumofthepingtimesovertheday.•GNPandAGNP:TheGNPprojectmeasuredminimumroundtriptimebetween19activesitesinMay2001.About1/2ofthehostsareinNorthAmerica;therestaredis-tributedglobally.WeusedGNPtoconstructasymmetric1919datasetandAGNPtoconstructanasymmetric86919dataset.•P2PSim:TheP2Psimproject[20]measuredadistancema-trixofRTTsamongabout2000InternetDNSserversbasedontheKingmethod[21].TheDNSserverswereobtainedfromanInternet-scaleGnutellanetworktrace.•PL-RTT:ObtainedfromPlanetLabpairwisepingproject[22].WechosetheminimumRTTmeasuredat3/23/20040:00EST.A169169fulldistancematrixwasobtainedbyﬁlteringoutmissingvalues.2)SimulatedResults:Fig.2illustratesthecumulativeden-sityfunction(CDF)ofrelativeerrorsofRTTreconstructedbySVDwhen,onﬁveRTTdatasets.ThebestresultisoverGNPdataset:morethan90%distancesarereconstructedwithin9%relativeerror.ThisisnottoosurprisingbecausetheGNPdatasetonlycontains19nodes.However,SVDalsoworkswelloverNLANR,whichhasmorethan100nodes:about90%fractionofdistancesarereconstructedwithin15%relativeerror.OverP2PSimandPL-RTTdatasets,SVDachievessimilarac-curacyresults:90percentilerelativeerroris50%.WeranthesametestsonNMFandobservedsimilarresults.Therefore,wechoseNLANRandP2PSimastworepresentativedatasetsfortheremainingsimulations.Fig.3comparesthereconstructionaccuracyofthreealgo-rithms:matrixfactorizationbySVDandNMF,andPCAappliedtotheLipschitzembedding.ThealgorithmsweresimulatedoverNLANRandP2PSimdatasets.ItisshownthatNMFhasalmostexactlythesamemedianrelativeerrorsasSVDonbothdatasetswhenthedimension.BothNMFandSVDyieldmuchmoreaccurateresultsthanLipschitz:themedianrelativeerrorofSVDandNMFismorethanﬁvetimessmallerthanLips-chitzwhen.SVDisslightlybetterthanNMFwhenislarge.ThereasonforthismaybethatthealgorithmforNMFisonlyguaranteedtoconvergetolocalminima.ConsideringthatthehostsinthedatasetscomefromallovertheInternet,theresultsshowthatmatrixfactorizationisascalableapproachtomodelingdistancesinlarge-scalenetworks.Intermsofmain-tainingalow-dimensionalrepresentation,appearstobeagoodtradeoffbetweencomplexityandaccuracyforbothSVDandNMF.V.DISTANCEPREDICTIONThesimulationresultsfromtheprevioussectiondemonstratethatpairwisedistancesinlarge-scalenetworksarewellmodeledbymatrixfactorization.Inthissection,wepresenttheInternetDistanceEstimationService(IDES)—ascalableandrobustser-vicebasedonmatrixfactorizationtoestimatenetworkdistancesbetweenarbitraryInternethosts.A.BasicArchitectureWeclassifyInternethostsintotwocategories:landmarknodesandordinaryhosts.Landmarknodesareasetofwell-po-sitioneddistributedhosts.ThenetworkdistancesbetweeneachofthemisavailabletotheinformationserverofIDES.Weassumethatlandmarkscanmeasurenetworkdistancestoothersandreporttheresultstotheinformationserver.Theinforma-tionservercanalsomeasurethepairwisedistancesviaindirectmethodswithoutlandmarksupport,e.g.,bytheKingmethod[21]ifthemetricisRTT.AnordinaryhostisanarbitraryendnodeintheInternet,whichisidentiﬁedbyavalidIPaddress.Supposetherearelandmarknodes.TheﬁrststepofIDESistogatherthepairwisedistancematrixontheinforma-tionserver.Then,wecanapplyeitherSVDorNMFalgorithmovertoobtainlandmarkoutgoingandincomingvectorsandindimensions,,foreachhost.Asbefore,weuseandtodenotethematriceswithandasrowvectors.NotethatNMFcanbeusedevenwhencontainsmissingelements.Now,supposeanordinaryhostwantstogatherdistanceinformationoverthenetwork.Theﬁrststepistocalculateitsoutgoingvectorandincomingvector.Tothisend,itmeasuresthenetworkdistancestoandfromthelandmarknodes.Wedenoteasthedistancetolandmark,andasthedistancefromlandmarktothehost.Ideally,wewouldliketheoutgoingandincomingvectorstosatisfyand.Thesolutionwiththeleastsquareserrorisgivenby(11)(12)Authorized licensed use limited to: Univ of  Calif San Diego. Downloaded on July 23, 2009 at 19:35 from IEEE Xplore.  Restrictions apply. 2278IEEEJOURNALONSELECTEDAREASINCOMMUNICATIONS,VOL.24,NO.12,DECEMBER2006Fig.3.ReconstructionerrorcomparisonofSVD,NMF,andLipschitzoverNLANRandP2PSimdataset.(a)ComparisonoverNLANRdataset.(b)ComparisonoverP2PSimdataset.Fig.4.Fourlandmarknodesandtwoordinaryhostsandinterconnectedbyasimplenetworktopology.Theglobalminimaoftheseerrorfunctions,computedbysimplematrixoperations,havetheclosedform(13)(14)Equations(13)and(14)assumethattheoptimizationsareun-constrained.Alternatively,onecanimposenon-negativitycon-straintsonand;thiswillguaranteethatthepredicteddistancesarethemselvesnonnegative(assumingthattheland-markdistancematrixwasalsomodeledbyNMF).Theleastsquarederrorproblemsin(11)and(12)canbesolvedwithnon-negativityconstraints,butthesolutionissomewhatmorecom-plicated.Oursimulationresultsdidnotrevealanysigniﬁcantdifferencebetweenthepredictionaccuraciesofleastsquaressolutionswithandwithoutnon-negativityconstraints;thus,inwhatfollows,wefocusonthesimplerunconstrainedsolutionsin(13)and(14).WegiveasimpleexampleofthisprocedureinFig.4.ThenetworkisanenlargedversionofthenetworkinFig.1,withthefouroriginalnodesservingaslandmarksandtwonewnodesin-troducedasordinaryhosts.Theﬁrststepistomeasureinterland-markdistancesandcalculatelandmarkincomingandoutgoingvectors.WeusedSVDtofactorthelandmarkdistancematrixinthisexample.TheresultisthesameastheexampleinSectionIVNotethatSVDcanbesubstitutedbyNMFandthefollowingstepsareidentical.Second,wemeasurethedistancevectorsfortheordinaryhosts:forordinaryhost.Accordingto(13)and(14),and.Similarly,weobtainthedistancevectorofas[2.51.51.50.5],andcalculateitsoutgoingandincomingvec-tors:and.Onecanverifythatdistancesbetweenordinaryhostsandlandmarksareexactlypreserved.Thedistancebetweentwoordinaryhostsisnotmea-sured,butcanbeestimatedas,whiletherealnetworkdistanceis3.B.OptimizationThebasicarchitecturerequiresanordinaryhosttomeasurenetworkdistancestoalllandmarks,whichlimitsthescalabilityofIDES.Furthermore,ifsomeofthelandmarknodesexperi-encetransientfailuresoranetworkpartition,anordinaryhostmaynotbeabletoretrievethemeasurementsitneedstosolve(13)and(14).ToimprovethescalabilityandrobustnessofIDES,weproposearelaxationtothebasicarchitecture:anordinaryhostonlyhastomeasuredistancestoasetofnodeswithprecomputedoutgoingandincomingvectors.Thenodescanbelandmarknodes,orotherordinaryhoststhathavealreadycomputedtheirvectors.Supposetheoutgoingvectorsofthosenodesareandtheincomingvectorsare.Wemeasureandasthedistancefromandtothethnode,forall.CalculatingthenewAuthorized licensed use limited to: Univ of  Calif San Diego. Downloaded on July 23, 2009 at 19:35 from IEEE Xplore.  Restrictions apply. MAOetal.:IDES:ANINTERNETDISTANCEESTIMATIONSERVICEFORLARGENETWORKS2279vectorsandforisdonebysolvingtheleastsquaresproblems(15)(16)Thesolutionisexactlythesameform,asdescribedin(13)and(14).Theconstraintisnecessary(andusuallysufﬁcient)toensurethattheproblemisnotsingular.Ingeneral,largervaluesofleadtobetterpredictionresults,astheyincorporatemoremeasurementsofnetworkdistancesinvolvingintothecalculationofthevectorsand.WeusethetopologyinFig.4againtodemonstratehowthesystemworks.Asinthebasicarchitecture,theﬁrststepistomeasureinterlandmarkdistancesandcalculatelandmarkoutgoingandincomingvectors.Second,theordinaryhostmeasuresthedistancesto,,andas[0.51.51.5].By(13)and(14),thevectorsareand.Notethatwedidnotmeasurethedistancebetweenand,butitcanbeestimatedas,whichisinfactthetruedistance.Finally,theordinaryhostmeasuresthedistancesto,,andas[1.50.53].Becauseallofthemalreadyhaveprecomputedvectors,cancomputeitsownvectorsby(13)and(14).Theresultsareand.Thedistancesbetweenordinaryhostandarenotmeasureddirectly,butcanbeestimatedasand.Thisexampleillustratesthatevenwithoutmeasurementtoalllandmarks,theestimateddistancescanstillbeaccurate.Inthisexample,mostofthepairwisedistancesareexactlypre-served;themaximumrelativeerroris15%whenpredictingthedistancebetweenand.Intheexample,theloadiswelldistributedamonglandmarks.AsshowninFig.5,distancestoareonlymeasuredtwiceduringthisestimationprocedure.SuchaschemeallowsIDEStoscaletoalargenumberofordi-naryhostsandlandmarks.Itisalsorobustagainstpartialland-markfailures.C.LandmarkSelectionThesystemperformancedependsonthepositioningofthelandmarks.Ill-positionedlandmarkscansigniﬁcantlyreducetheaccuracyofestimatednetworkdistances.Forexample,asaworstcase,imaginethatallthelandmarksareveryclosetoeachother.Then,thepairwisedistancematrixwillbeclosetothezeromatrix,andmodelingbymatrixfactorizationwillnotcaptureanyinformationaboutlong-rangedistancesortheglobalnetworktopology.Givenasetofnodesandtheirpairwisenetworkdistances,weproposethefollowingfourlandmarkselectionalgorithmsandevaluatetheminthenextsection.•Random:Werandomlychooselandmarksbyuniformlysampling(withoutreplacement)fromthesetofallcandi-datenodes.Inthisscheme,eachnodehasthesameproba-Fig.5.Learningoutgoingandincomingvectorsfortwoordinaryhosts.Solidlinesindicatethatrealnetworkmeasurementisconducted.Eachedgeisanno-tatedwith(realnetworkdistance/estimateddistance).bilitytobechosenasalandmark,andnoinformationaboutpairwisedistancesisrequired.•-means:The-meansalgorithm[23]isawell-knowniterativeprocedurefordetectingclustersinmultivariatedata.Weadaptthealgorithmtoﬁndclustersinthespaceofhostnodes;thehostnodesclosesttotheclustercentroidsarethenchosenaslandmarknodes.Sinceonlydistancesbetweenhostnodesareinitiallyspeciﬁed,itisnecessarytorepresentthehostnodesaspointsinavectorspacebe-foreapplyingthe-meansalgorithm.WechoosetheLip-schitzembeddingmethod:eachnodeisrepresentedbythe-dimensionalvectorwhoseelementsareitsdistancestotheothernodesinthenetwork.NotethatEuclideandistancesinthisrepresentationdonotpre-servethedistancesoriginallyspeciﬁedbythematrix,asdiscussedinSectionII.•Spectralclustering:Spectralclustering[24]isanotherwell-knownclusteringprocedure.Unlike-means,itcanclusterobjectsdirectlybasedontheirpairwisedistances,withoutrequiringanintermediatevectorspacerepresen-tation.Moreover,themainstepofspectralclusteringisaneigenvectorcomputation,notaniterativeoptimizationwithpotentiallyspuriouslocalminima,asin-means.Ingeneral,spectralclusteringismorerobustthan-means,butalsomorecomputationallyexpensive.Weusetheal-gorithmin[24]toassignnodestodifferentclustersandchoosethenodesclosesttoeachclustercentroidasland-marknodes.•Maximumdistance:Finally,weuseasimplegreedyheuristictoidentifylandmarkswhosesummedpairwisedistancesareapproximatelymaximized.(AnoptimalalgorithmwouldbeNP-hard.)Ouralgorithmworksasfollows:1)initially,wechooseonenodeatrandomastheﬁrstlandmark;2)fromtheremainingnodes,wechoosethenodewithmaximumaveragedistancetotheexistingAuthorized licensed use limited to: Univ of  Calif San Diego. Downloaded on July 23, 2009 at 19:35 from IEEE Xplore.  Restrictions apply. 2280IEEEJOURNALONSELECTEDAREASINCOMMUNICATIONS,VOL.24,NO.12,DECEMBER2006landmarksasthenextlandmark;and3)werepeatstep2)untilenoughlandmarkshavebeenchosen.VI.EVALUATIONInthissection,weevaluateIDES,usingSVDandNMFalgo-rithmstolearnmodelsofnetworkdistances,andcomparethemtotheGNP[10]andICS[9]systems.TheexperimentswereperformedonaDellDimension4600withPentium43.2GHzCPU,2GBRAM.TheGNPimple-mentationwasobtainedfromtheofﬁcialGNPsoftwarereleasewritteninC.WeimplementedIDESandICSexactlyasde-scribedin[9]inMatLab6.0.PleaserefertoSectionII-AfordetailsoftheGNPandICSsystems.Weidentifyfourevaluationcriteria.•Efﬁciency:Wemeasureefﬁciencybythetotalrunningtimerequiredbyasystemtobuilditsmodelofnetworkdistancesbetweenalllandmarknodesandordinaryhosts.Accuracy:Thepredictionerrorbetweenandshouldbesmall.Weusethemodiﬁedrelativeerrorfunc-tionin(10)toevaluateaccuracy,whichisalsousedinGNPandVivaldi.Notethatpredicteddistancesarecom-putedbetweenordinaryhoststhathavenotconductedanynetworkmeasurementsoftheirdistance.Predicteddistanceerrorsaredifferentthanreconstructeddistanceer-rors(whereactualnetworkmeasurementsareconducted).Evaluationsbasedonotherproposederrorfunctions[25]willbeconsideredinourfuturework.•Scalability:Thestoragerequirementsareformodelsbasedonnetworkembeddings(withonepositionvectorforeachhost)andmatrixfactorizations(withoneincomingandoutgoingvectorforeachhost).Inlarge-scalenetworks,thenumberofhostsisverylarge.Theconditionallowsthemodeltoscale,assumingthatreasonableaccu-racyofpredicteddistancesismaintained.Also,tosupportmultiplehostsconcurrently,itisdesirabletodistributetheload—forinstance,byonlyrequiringdistancemeasure-mentstopartialsetsoflandmarks.•Robustness:Arobustsystemshouldberesilientagainsthostfailures,temporarynetworkpartitioning,andmea-surementerrors.Inparticular,partialfailureoflandmarknodesshouldnotpreventthesystemfrombuildingmodelsofnetworkdistances.A.EfﬁciencyandAccuracyWeusethreedatasetsforevaluatingaccuracyandefﬁciency.•GNP:15outof19nodesinthesymmetricdatasetwereselectedaslandmarks.Therestofthe4nodesandthe869nodesintheAGNPdatasetwereselectedasordinaryhosts.Predictionaccuracywasevaluatedon8694pairsofhosts.•NLANR:20outof110nodeswereselectedrandomlyaslandmarks.Theremaining90nodesweretreatedasordi-naryhosts.Thepredictionaccuracywasevaluatedon9090pairsofhosts.•P2PSim:20outof1143nodeswereselectedrandomlyaslandmarks.Theremaining1123nodesweretreatedasordi-naryhosts.Thepredictionaccuracywasevaluatedon11231123pairsofhosts.TABLEIEFFICIENCYCOMPARISONONIDES,ICS,ANDGNPOVERFOURDATASETSAlthoughdeliberateplacementoflandmarksmightyieldmoreaccurateresults,wechosethelandmarksrandomlysince,ingeneral,theymaybeplacedanywhereontheInternet.WepresentthestudyoflandmarkplacementeffectinSectionVI-C.Toensurefaircomparisons,weusedthesamesetoflandmarksforallfouralgorithms.Wealsorepeatedthesimulationseveraltimes,andnosigniﬁcantdifferencesinresultswereobservedfromoneruntothenext.TableIillustratestherunningtimecomparisonbetweenIDES,ICS,andGNP.GNPismuchlessefﬁcientthantheIDESandICS.ThisisbecauseGNPusessimplexdownhillmethod,whichconvergesslowlytolocalminima.BothIDESandICShaverunningtimelessthan1s,evenwhenthedatasetscontainthousandsofnodes.ItispossibletoreducetherunningtimeofGNPbysacrifyingtheaccuracy,buttheparametersarehardtotune,whichisanotherdrawbackofsimplexdownhillmethod.Fig.6plotstheCDFofpredictionerrorsforIDESusingSVD,IDESusingNMF,ICS,andGNPoverthethreedatasets,re-spectively.InFig.6(a),theGNPsystemisthemostaccuratesystemfortheGNPdataset.IDESusingSVDandNMFareasaccurateasGNPfor70%ofthepredicteddistances.TheGNPdatasetissomewhatatypical,however,inthatthepre-dicteddistancematrixhasmanymorecolumns(869)thanrows[(4)].Fig.6(b)and(c)depictstheCDFofpredictionerrorsoverNLANRandP2PSimdatasets,whicharemoretypical.Inbothcases,IDEShasthebestpredictionaccuracy.OntheNLANRdataset,IDESyieldsbetterresultsthanGNPandICS:theme-dianrelativeerrorofIDESusingSVDisonly0.03.Its90thper-centilerelativeerrorisabout0.23.TheaccuracyisworseforallthreesystemsinP2PSimdatasetthaninNLANRdataset.However,IDES(witheitherSVDorNMF)isstillthemostaccu-ratesystemamongthethree.ThebetterpredictionresultsontheNLANRdatasetmaybeduetothefactthat90%ofthehostsinNLANRareinNorthAmericaandthenetworkdistances,com-putedfromminimumRTToveraday,arenotaffectedmuchbyqueueingdelaysandroutecongestion.Thesepropertiesmakethedatasetmoreuniform,andtherefore,moreeasilymodeledbyalow-dimensionalrepresentation.B.ScalabilityandRobustnessIntheprevioussection,weshowedthatIDEScanaccuratelymodelthenetworkdistancesinlowdimensions,whichisfundamentaltomakethesystemscaletolarge-scalenet-works.Inthissection,westudytheimpactofpartiallyobservedlandmarksandnetworkmeasurementerrorsontheaccuracyofIDES.1)PartiallyObservedLandmarks:Measuringthedistancestoonlyasubsetoflandmarknodesreducestheoverallloadandallowsthesystemtosupportmoreordinaryhostsconcurrently.Italsomakesthesystemrobusttopartiallandmarkfailures.Authorized licensed use limited to: Univ of  Calif San Diego. Downloaded on July 23, 2009 at 19:35 from IEEE Xplore.  Restrictions apply. MAOetal.:IDES:ANINTERNETDISTANCEESTIMATIONSERVICEFORLARGENETWORKS2281Fig.6.AccuracycomparisononIDESusingSVDandNMF,ICS,andGNP,.(a)CDFofrelativeerroroverGNPdataset,15landmarks.(b)CDFofrelativeerroroverNLANRdataset,20landmarks.(c)CDFofrelativeerroroverP2PSimdataset,20landmarks.WesimulatedpartiallyobservedlandmarkscenariosinIDESusingSVDtomodelpartialdistancematricesfromtheNLANRandP2PSimdatasets.Foreachdataset,weexperimentedwithtwosettings:20randomlandmarksand50randomlandmarks.ThesimulationresultsareshowninFig.7.Theaxisindicatesthefractionofunobservedlandmarks.Theunobservedland-marksforeachordinaryhostwereindependentlygeneratedatrandom.Whenthenumberoflandmarksislessthantwicethemodeldimensionality,theaccuracyappearssensitivetothefractionofunobservedlandmarks.However,asthenumberoflandmarksincreases,thesystemtoleratesmorefailure:forex-ample,notobserving40%ofthelandmarkshaslittleimpactonthesystemaccuracywhen50landmarksareusedinthetest.2)MeasurementErrors:Inprevioussimulations,weassumethatallthemeasurementresultsfromthedatasetsareaccurate.However,intherealworld,measurementmaycontainvariouskindsoferrors.Forexample,atemporaryroutechangemayresultunstablemeasurementresults;averyhighloadnodemayrespondtheICMPECHOorUDPpacketwithahigherdelay5;atransparentWebproxymayinterceptTCPSYNpacketsandrespondwithSYN/ACKpacketstomakeTCPprobingresultsinaccurate.Arobustsystemshouldberesilientagainstasmallamountofmeasurementanomaliesandstillyieldreasonablyaccurateresults.Tothisend,westudiedhowwellIDESandICSworkbysimulatingmeasurementerrors.Weﬁrstassumedthattheorig-inaldatasetsdonotcontainerroneousresults.Then,amongthelinksinthedistancematrix,werandomlypickedlinks,where,andincreasedtheRTTsoftheselinkstotimesoftheoriginalvalues.Thisistosaythat,inthefollowingsimulation,themeasurednetworkdistancescouldbelargerthantheactualvaluesasmuchastimes.WesimulatedtheIDESsystemusingSVDandICS,respectively.Twentylandmarkswerechosenbytherandomalgorithm,andthedimensionusedwas.Notethatwhencalculatingtheestimationerrors,wecomparedtheestimatedresultstotheac-tualnetworkdistances(i.e.,theoriginaldatawithoutinjecteder-rors).WeranthesimulationovertheNLANRandP2Pdatasets,repeatedthetest100times,andreporttheaveragemedianesti-mationerrorsinFig.8.Notsurprisingly,intheIDESsystem,theamountofrelativeestimationerrorsincreaseswhentheamountofinaccuratelymeasuredlinksincreases.Thehigherthedegreeofmeasurementerroris,thefastertheestimationerrorin-creasesalongwith.However,evenwhenand,i.e.,5%ofthenetworklinksaresubjecttotwotimesmoremea-surementerrors,IDESisstillmoreaccuratethanthecaseofICSwherenolinksuffersanymeasurementerror.InICS,theaccu-racyisnotaffectedmuchwhenislow.However,wenoticedsigniﬁcantestimationerrorwhenandoverbothdatasets,whichmeansthatICSisnotasrobustasIDESwhenthemeasurementerrorrangeislarge,thereasonforwhichdeservesfurtherinvestigation.C.LandmarkSelectionInthissection,weusesimulationtoevaluatetheimpactsofdifferentlandmarkselectionalgorithmsontheaccuracyofIDES.Exceptfortherandomalgorithm,weassumethepairwisenetworkdistancesamongallthenodesaregivenwhenchoosingthelandmarks.Althoughtheassumptionissomewhatunreal-isticinverylarge-scalenetworks,understandingtherelation-shipbetweenlandmarkdistributionandpredictionaccuracyisimportant.5ThedatasetfromPlanetLabpairwisepingproject[22]showthatsomeoftheRTTsarelongerthan2000ms,whichisunlikelytohappenintoday’sInternet.WesuspectthisisduetothefactthatthePlanetLabnodesareoftenoverloaded.Authorized licensed use limited to: Univ of  Calif San Diego. Downloaded on July 23, 2009 at 19:35 from IEEE Xplore.  Restrictions apply. 2282IEEEJOURNALONSELECTEDAREASINCOMMUNICATIONS,VOL.24,NO.12,DECEMBER2006Fig.7.ThecorrelationbetweenaccuracyandlandmarkfailuresonIDESusingSVDalgorithm.a)OverNLANRdataset.b)OverP2PSimdataset.Fig.8.TheimpactofmeasurementerrorsontheaccuracyofIDESandICS.Ineachtest,thereisfractionoflinksandaresubjecttomeasurementerrors.a)OverNLANRdataset.b)OverP2PSimdataset.WestudiedthefouralgorithmsproposedinSectionV-C,therandomalgorithm,the-meansalgorithm,thespectralclus-teringalgorithm,andthemaximumdistancealgorithm.Eachofthemwasevaluatedoverthreedatasets(NLANR,P2PSim,andPL-RTT).Afterusingaparticularalgorithmtoselectaprede-ﬁnednumberoflandmarks(20inthesimulation),weranIDESusingSVDwithtopredictthenetworkdistancesbe-tweenordinarynodes,andrecordedthe90thpercentilerelativeerrorofthepredicteddistances.Foreachlandmarkselectional-gorithmanddataset,werepeatedthetest100times,andre-portedtheaverageandstandarddeviationofthe90thpercentilerelativeerrorinFig.9(a)and(b),respectively.Fromtheﬁg-ures,wecanseethattheaverageerrorsoftherandom,-meansandspectralclusteringalgorithmsarequiteclose,anditiscon-sistentoverthethreedatasets.However,maximumdistancealgorithmismuchworse:forexample,theaverage90thper-centilerelativeerrorofthemaximumalgorithmisaboutﬁvetimeslargerthantheerrorsoftheotherthreealgorithmsovertheP2PSimdataset.ThisindicatesthatthemaximumdistancealgorithmisnotappropriateforlandmarkselectioninIDESsystem.FromFig.9(b),wecanseethatthestandarddevia-tionofthe90thpercentilerelativeerroroftherandomalgo-rithmislargerthanthe-meansandspectralclusteringalgo-rithms.Thisisduetothefactthatrandomselectionsdonotnec-essarilyprevent“bad”landmarkselections.Therefore,thesta-bilityofyieldedaccuracyoftherandomalgorithmislowerthanthetwoclusteringbasedalgorithms.The-meansandspectralclusteringalgorithmsslightlyoutperformeachotherindifferentdatasets.Weconcludethatthemaximumdistancealgorithmisnotagoodchoiceoflandmarkselection;therandomalgorithm,althoughnotasstableastheclustering-basedalgorithms,per-formsreasonablywellandhastheleasttimecomplexitywithoutassumingagivendistancematrix.Apreviousstudyonvirtualnetworkcoordinatesalsoshowedthatrandomlandmarkselec-tionisfairlyeffectiveifmorethan20landmarksareemployed[26].VII.SUMMARYInthispaper,wehavepresentedamodelbasedonmatrixfactorizationforpredictingnetworkdistancesbetweenarbitraryInternethosts.Ourmodelimposesfewerconstraintsonnet-workdistancesthanmodelsbasedonlowdimensionalembed-Authorized licensed use limited to: Univ of  Calif San Diego. Downloaded on July 23, 2009 at 19:35 from IEEE Xplore.  Restrictions apply. MAOetal.:IDES:ANINTERNETDISTANCEESTIMATIONSERVICEFORLARGENETWORKS2283Fig.9.Performancecomparisononthelandmarkselectionalgorithms(random,k-means,spectralclusteringandmaximumdistance)overthedatasetsofNLANR,P2PSim,andPL-RTT.20landmarksarechosen..(a)Comparisonoftheaverage90thpercentileestimation.(b)Comparisonofthestandarddeviationof90thpercentileestimationerrors.dings;inparticular,itcanrepresentdistancesthatviolatethetriangleinequality.Suchamodelismoresuitableformod-elingthetopologyandcomplexroutingpoliciesontheInternet.Basedonthismodel,weproposedtheIDESsystemandtwolearningalgorithms,SVDandNMF,forfactoringmatricesofnetworkdistancesbetweenarbitraryInternethosts.Simulationsonreal-worlddatasetshaveshownthatIDESiscomputationallyefﬁcient,scalabletolarge-scalenetworks,moreaccuratethanpreviousmodels,andresilienttotemporarylandmarkfailures.ACKNOWLEDGMENTTheauthorsaregratefultoF.DabekfromMITforsharingtheP2PSimdataset.REFERENCES[1]S.Ratnasamy,P.Francis,M.Handley,R.Karp,andS.Shenker,“Ascalablecontent-addressablenetwork,”inProc.ACMSIGCOMMConf.,SanDiego,CA,Aug.2001.[2]A.RowstronandP.Druschel,“Pastry:Scalable,distributedobjectlocationandroutingforlarge-scalepeer-to-peersystems,”inProc.IFIP/ACMInt.Conf.Distrib.Syst.Platforms(Middleware),Nov.2001,pp.329–350.[3]I.Stoica,R.Morris,D.Karger,M.F.Kaashoek,andH.Balakrishnan,“Chord:Ascalablepeer-to-peerlookupserviceforInternetapplica-tions,”inProc.ACMSIGCOMMConf.,SanDiego,CA,Aug.2001.[4]B.Y.Zhao,J.D.Kubiatowicz,andA.D.Joseph,“Tapestry:Aninfra-structureforfault-tolerantwide-arealocationandrouting,”Univ.Cali-forniaatBerkeley,Berkeley,CA,Tech.Rep.CSD-01-1141,Apr.2001.[5]D.G.Andersen,H.Balakrishnan,M.F.Kaashoek,andR.Morris,“Re-silientoverlaynetworks,”inProc.18thACMSOSP,2001.[6]M.Costa,M.Castro,A.Rowstron,andP.Key,“PIC:practicalInternetcoordinatesfordistanceestimation,”inProc.24thInt.Conf.Distrib.Comput.Syst.(ICDCS),Tokyo,Japan,Mar.2004,pp.178–187.[7]F.Dabek,R.Cox,F.Kaashoek,andR.Morris,“Vivaldi:Adecen-tralizednetworkcoordinatesystem,”inProc.ACMSIGCOMMConf.,Aug.2004.[8]P.Francis,S.Jamin,C.Jin,Y.Jin,D.Raz,Y.Shavitt,andL.Zhang,“IDMaps:AglobalInternethostdistanceestimationservice,”IEEE/ACMTrans.Netw.,pp.525–540,Oct.2001.[9]H.Lim,J.Hou,andC.-H.Choi,“ConstructingInternetcoordinatesystembasedondelaymeasurement,”inProc.InternetMeasure.Conf.,Oct.2003,pp.513–525.[10]T.S.E.NgandH.Zhang,“PredictingInternetnetworkdistancewithcoordinates-basedapproaches,”inProc.INFOCOM,NewYork,Jun.2002,pp.170–179.[11]L.TangandM.Crovella,“VirtuallandmarksfortheInternet,”inProc.InternetMeasure.Conf.,Oct.2003.[12]S.Banerjee,T.G.Grifﬁn,andM.Pias,“Theinterdomainconnectivityofplanetlabnodes,”inProc.5thAnnu.PassiveActiveMeasure.Work-shop,AntibesJuan-les-Pins,France,Apr.2004.[13]K.LakshminarayananandV.Padmanabhan,“Someﬁndingsonthenetworkperformanceofbroadbandhosts,”inProc.InternetMeasure.Conf.,Oct.2003.[14]V.Paxson,“End-to-endroutingbehaviorintheInternet,”IEEE/ACMTrans.Netw.,vol.5,no.5,pp.601–615,Oct.1997.[15]Y.MaoandL.K.Saul,“Modelingdistancesinlarge-scalenetworksbymatrixfactorization,”inProc.2004ACMSIGCOMMInternetMea-sure.Conf.,Taormina,Italy,Oct.2004,pp.278–287.[16]R.Cox,F.Dabek,F.Kaashoek,J.Li,andR.Morris,“Practical,dis-tributednetworkcoordinates,”inProc.HotNets-II,Cambridge,MA,Nov.2003.[17]I.T.Jolliffe,PrincipalComponentAnalysis.NewYork:Springer-Verlag,1986.[18]D.D.LeeandH.S.Seung,“Algorithmsfornon-negativematrixfac-torization,”inProc.NeuralInf.Process.Syst.,2000,pp.556–562.[19]TheNLANRActiveMeasurementProject.[Online].Available:http://amp.nlanr.net/active/[20]TheP2PSimProject.[Online].Available:http://www.pdos.lcs.mit.edu/p2psim[21]K.P.Gummadi,S.Saroiu,andS.D.Gribble,“King:Estimatingla-tencybetweenarbitraryinternetendhosts,”inProc.SIGCOMMIn-ternetMeasure.Workshop,Marseille,France,Nov.2002.[22]J.Stribling,“AllpairsofpingdataforPlanetLab.”[Online].Available:http://www.pdos.lcs.mit.edu/~strib/pl_app[23]C.M.Bishop,NeuralNetworksforPatternRecognition.Oxford,U.K.:OxfordUniv.Press,1995.[24]A.Y.Ng,M.I.Jordan,andY.Weiss,“Onspectralclustering:Analysisandanalgorithm,”inNIPS,T.G.Dietterich,S.Becker,andZ.Ghahra-mani,Eds.Cambridge,MA:MITPress,2001,pp.849–856.[25]E.K.Lua,T.Grifﬁn,M.Pias,H.Zheng,andJ.Crowcroft,“Ontheac-curacyofembeddingsforInternetcoordinatesystems,”inProc.ACMSIGCOMMInternetMeasure.Conf.,Berkeley,CA,Oct.2005.[26]L.TangandM.Crovella,“Geometricexplorationofthelandmarkse-lectionproblem,”inProc.5thAnnu.PassiveActiveMeasure.Work-shop,AntibesJuan-les-Pins,France,Apr.2004.YunMao(S’05)receivedtheB.E.andM.E.degreesincomputersciencefromTsinghuaUniversity,Beijing,China,in2000and2002,respectively.HeiscurrentlyworkingtowardsthePh.D.degreeattheDepartmentofComputerandInformationScience,UniversityofPennsylvania,Philadelphia.FromFall2005toSpring2006,hewasaVisitingResearchFellowattheDepartmentofComputerSci-ence,UniversityofTexasatAustin.Hiscurrentmainresearchinterestsarereal-worldnetworkedsystems,includingtheaspectsofperformance,mobility,reli-ability,scalability,andmanageability.Mr.MaoreceivedtheChair’sAwardfromtheUniversityofPennsylvaniaasoneofasmallnumberofparticularlyoutstandingdoctoralstudentsin2002.Authorized licensed use limited to: Univ of  Calif San Diego. Downloaded on July 23, 2009 at 19:35 from IEEE Xplore.  Restrictions apply. 2284IEEEJOURNALONSELECTEDAREASINCOMMUNICATIONS,VOL.24,NO.12,DECEMBER2006LawrenceK.Saul(M’04)receivedtheA.B.degreeinphysicsfromHarvardUniversity,Cambridge,MA,in1990andthePh.D.degreeinphysicsfromtheMassachusettsInstituteofTechnology(MIT),Cambridge,in1994.HestayedatMITfortwomoreyearsasaPostdoc-toralFellowattheCenterforBiologicalandCom-putationalLearning,thenjoinedtheresearchwingatAT&TLaboratories,MurrayHill,NJ,andlateratFlorhamPark,NJ.In2002,hejoinedthefacultyoftheDepartmentofComputerandInformationSci-ence,UniversityofPennsylvania.In2006,hejoinedthefacultyoftheDepart-mentofComputerScienceandEngineering,UniversityofCaliforniaatSanDiego.Hismainresearchinterestslieinmachinelearning,patternrecognition,voiceprocessing,andauditorycomputation.Dr.Saulwasnamedasoneof100TopYoungInnovatorsbyTechnologyRe-viewin1999.In2001,hewasafoundingmemberoftheEditorialBoardfortheJournalofMachineLearningResearch.JonathanM.Smith(S’86–M’89–SM’93–F’01)re-ceivedthePh.D.degreefromColumbiaUniversity,NewYork,in1989.HeistheOlgaandAlbericoPompaProfessorofEngineeringandAppliedScienceattheUniversityofPennsylvania,andaProfessorintheDepartmentofComputerandInformationScience,UniversityofPennsylvania,wherehehasbeensince1989.AttheUniversityofPennsylvania,hisresearchhasbeenfocusedonadvancedcommunicationandcom-puternetworkingsystemssuchasgigabitnetworks,wherehisimpactinﬂuencedresearchandcommercialsoftwareandhardware,andresultedinseveralwidelycitedU.S.patents.HewaspreviouslyatBellTelephoneLaboratoriesandBellcore,wherehefocusedonUNIXinternals,toolsanddistributedcomputingtechnology,andwasamemberofatechnologytransferteamforcomputersecurity.Hehasconsultedextensivelyforindustryandgovernment.Hespentmuchof1997onsabbaticalattheUniversityofCambridge,andiscurrentlyonleavefromtheUniversityofPennsylvaniaandisattheDefenseAdvancedResearchProjectsAgency(DARPA).Hiscurrentresearchinterestsareprogrammablenetworkinfrastructuresandcomputersecurity.Dr.SmithisamemberoftheAssociationforComputingMachinery(ACM)andSigmaXi.Authorized licensed use limited to: Univ of  Calif San Diego. Downloaded on July 23, 2009 at 19:35 from IEEE Xplore.  Restrictions apply. 