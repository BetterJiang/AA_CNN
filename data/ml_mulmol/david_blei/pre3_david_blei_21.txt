we dev an onl var bay ( vb ) alg for lat dir al - loc ( lda ) .
onl lda is bas on onl sto opt wit a nat gra ste , whi we sho con to a loc opt of the vb obj fun .
it can han ana mas doc col , inc - ing tho arr in a str .
we stu the per of onl lda in sev way , inc by tti a 123 - top top mod to 123 art fro wik in a sin pas .
we dem tha onl lda nds top mod as goo or bet tha tho fou wit bat vb , and in a fra of the tim .
hie bay mod has bec a mai in mac lea and app sta .
bay mod pro a nat way to enc ass abo obs dat , and ana pro by exa the pos dis of mod par and lat var con - tio on a set of obs .
for exa , res in pro top mod app - tio we wil foc on in thi pap aro tti com hie bay mod to lar col of doc .
in a top mod , the pos dis rev lat sem str tha can be use for man app .
for top mod and man oth bay mod of int , how , the pos is int to com and res mus app to app pos inf .
mod app pos inf alg fal in two cat app and opt ap - pro .
sam app are usu bas on mar cha mon car ( mcm ) sam - pli , whe a mar cha is den who sta dis is the pos of int .
op - tim app are usu bas on var inf , whi is cal var bay ( vb ) whe use in a bay hie mod .
whe mcm met see to gen ind - pen sam fro the pos , vb opt a sim par dis to be clo in kul - lei div to the pos .
alt the cho of app pos int - duc bia , vb is emp sho to be fas tha and as acc as mcm , whi mak it an att opt whe app bay mod to lar dat ( 123 , 123 , 123 ) .
non , lar sca dat ana wit vb can be com dif .
sta bat vb alg ite bet ana eac obs and upd dat - wid var par .
the per - ite cos of bat alg can qui bec imp for ver lar dat .
in top mod app , thi iss is par rel mod pro
fig 123 : top : per on hel - out wik doc as a fun of num of doc ana , i . e . , the num of e ste .
onl vb run on 123 mil uni wik art is com wit onl vb run on 123 , 123 wik art and wit the bat alg run on the sam 123 , 123 art .
the onl alg con muc fas tha the bat alg doe .
bot : evo of a top abo bus as onl lda see mor and mor doc .
to sum the lat str of mas doc col tha can be ann by han .
a cen res pro for top mod is to efc t mod to lar cor ( 123 , 123 ) .
to thi end , we dev an onl var bay alg for lat dir all ( lda ) , one of the sim top mod and one on whi man oth are bas .
our alg is bas on onl sto opt , whi has bee sho to pro goo par est dra - ica fas tha bat alg on lar dat ( 123 ) .
onl lda han ana mas col - lec of doc and , mor , onl lda nee not loc sto or col the doc eac can arr in a str and be dis aft one loo .
in the sub sec , we der onl lda and sho tha it con to a sta poi of the var obj fun .
we stu the per of onl lda in sev way , inc by tti a top mod to 123 art fro wik wit loo at the sam art twi .
we sho tha onl lda nds top mod as goo as or bet tha tho fou wit bat vb , and in a fra of the tim ( see gur 123 ) .
onl var bay is a pra new met for est the pos of com hie bay mod .
123 onl var bay for lat dir all
lat dir all ( lda ) ( 123 ) is a bay pro mod of tex doc .
it as - sum a col of k top .
eac top den a mul dis ove the voc and is ass to hav bee dra fro a dir , k dir ( ) .
giv the top , lda ass the fol gen pro for eac doc d .
fir , dra a dis ove top d dir ( ) .
the , for eac wor i in the doc , dra a top ind zdi ( 123 , .
, k ) fro the top wei zdi d and dra the obs wor wdi fro the sel top , wdi zdi .
for sim , we ass sym pri on and , but thi ass is eas to rel ( 123 ) .
not tha if we sum ove the top ass z , the we get p ( wdi , ) = ( cid : 123 )
k dkk .
thi lea to the mul pca int of lda we can thi of lda as a pro fac of the mat of wor cou n ( whe ndw is the num of tim wor w app in doc d ) int a mat of top wei and a dic of top ( 123 ) .
our wor can thu
123 eig see ( log sca ) per . 123 . 123 123 123 123 be see as an ext of onl mat fac tec tha opt squ err ( 123 ) to mor gen pro for .
we can ana a cor of doc wit lda by exa the pos dis of the top , top pro , and top ass z con on the doc .
thi rev lat str in the col tha can be use for pre or dat exp .
thi pos can be com dir ( 123 ) , and is usu app usi mar cha mon car ( mcm ) met or var inf .
bot cla of met are eff , but bot pre sig com cha in the fac of mas dat set . dev sca app - mat inf met for top mod is an act are of res ( 123 , 123 , 123 , 123 ) .
to thi end , we dev onl var inf for lda , an app pos inf alg tha can ana mas col of doc .
we rst rev the tra var - ati bay alg for lda and its obj fun , the pre our onl met , and sho tha it con to a sta poi of the sam obj fun .
123 bat var bay for lda
in var bay inf ( vb ) the tru pos is app by a sim dis q ( z , , ) , whi is ind by a set of fre par ( 123 , 123 ) .
the par are opt to max the evi low bou ( elb ) :
q ( zdi = k ) = dwd
log p ( w| , ) l ( w , , , ) ( cid : 123 ) eq ( log p ( w , z , , | , ) ) eq ( log q ( z , , ) ) .
max the elb is equ to min the kl div bet q ( z , , ) and the pos p ( z , , |w , , ) .
fol ( 123 ) , we cho a ful fac dis q of the for the pos ove the per - wor top ass z is par by , the pos ove the per - doc top wei is par by , and the pos ove the top is par by .
as a sho , we ref to as the top .
equ 123 fac to
( cid : 123 ) eq ( log p ( wd| , zd , ) ) + eq ( log p ( zd| ) ) eq ( log q ( zd ) ) + eq ( log p ( d| ) ) eq ( log q ( d ) ) + ( eq ( log p ( | ) ) eq ( log q ( ) ) ) / d ( cid : 123 ) .
l ( w , , , ) = ( cid : 123 )
q ( k ) = dir ( k; k ) ,
q ( d ) = dir ( d; d ) ;
not we hav bro the per - cor ter int the sum ove doc , and div the by the num of doc d .
thi ste wil hel us to der an onl inf alg .
we now exp the exp abo to be fun of the var par .
thi rev tha the var obj rel onl on ndw , the num of tim wor w app in doc d .
whe usi vba opp to mcm can be sum by the wor cou ,
k dk ) + ( cid : 123 ) k dwk ( eq ( log dk ) + eq ( log kw ) log dwk ) k log ( ( cid : 123 ) k ( dk ) eq ( log dk ) + log ( dk )
+ log ( k ) k log ( ) + ( log ( w ) w log ( ) ) / d d ( cid : 123 ) ( nd , d , d , ) ,
w kw ) + ( cid : 123 )
w ( kw ) eq ( log kw ) + log ( kw ) ) / d
the exp und q of log and log are
eq ( log dk ) = ( dk ) ( ( cid : 123 ) k
whe w is the siz of the voc and d is the num of doc .
( cid : 123 ) ( nd , d , d , ) den the con of doc d to the elb .
l can be opt usi coo asc ove the var par , , ( 123 ) : dwk exp ( eq ( log dk ) + eq ( log kw ) ) ;
dk = + ( cid : 123 )
kw = + ( cid : 123 ) i=1 di ) ; eq ( log kw ) = ( kw ) ( ( cid : 123 ) w
whe den the dig fun ( the rst der of the log of the gam fun ) .
the upd in equ 123 are gua to con to a sta poi of the elb .
by ana to the exp - max ( em ) alg ( 123 ) , we can par the upd int an e ste upd and unt con , hol xed an m ste giv .
in pra , thi alg con to a bet sol if we rei and bef eac e ste .
alg 123 out bat vb for lda .
alg 123 bat var bay for lda
whi rel imp in l ( w , , , ) > 123 do
for d = 123 to d do
ini dk = 123
( the con 123 is arb . ) set dwk exp ( eq ( log dk ) + eq ( log kw ) )
set dk = + ( cid : 123 ) k |ch ind < 123 set kw = + ( cid : 123 )
123 onl var inf for lda
alg 123 has con mem req and emp con fas tha bat col - lap gib sam ( 123 ) .
how , it sti req a ful pas thr the ent cor eac ite .
it can the be slo to app to ver lar dat , and is not nat sui to set - tin whe new dat is con arr .
we pro an onl var inf alg for tti , the par to the var pos ove the top dis .
our alg is nea as sim as the bat vb alg , but con muc fas for lar dat .
a goo set of the top is one for whi the elb l is as hig as pos aft tti the per - doc var par and wit the e ste den in alg 123
let ( nd , ) and ( nd , ) be the val of d and d pro by the e ste .
our goa is to set to max
d ( cid : 123 ) ( nd , ( nd , ) , ( nd , ) , ) ,
l ( n , ) ( cid : 123 ) ( cid : 123 )
whe ( cid : 123 ) ( nd , d , d , ) is the dth doc con to the var bou in equ 123
thi is ana to the goa of lea - squ mat fac , alt the elb for lda is les con to wor wit tha a sim squ los fun suc as the one in ( 123 ) .
onl vb for lda ( onl lda ) is des in alg 123
as the tth vec of wor cou nt is obs , we per an e ste to nd loc opt val of t and t , hol xed .
we the com , the set of tha wou be opt ( giv t ) if our ent cor con of the sin doc nt rep d tim .
d is the num of uni doc ava to the alg , e . g .
the siz of a cor .
( in the tru onl cas d , cor to emp bay est of . ) we the upd usi a wei ave of its pre val and .
the wei giv to is giv by t ( cid : 123 ) ( 123 + t ) , whe ( 123 , 123 ) con the rat at whi old val of are for and 123 123 slo dow the ear ite of the alg .
the con tha ( 123 , 123 ) is nee to gua con .
we sho in sec 123 tha onl lda cor to a sto nat gra alg on the var obj l ( 123 , 123 ) .
thi alg clo res one pro in ( 123 ) for onl vb on mod wit hid dat the mos imp dif is tha we use an app e ste to opt t and t , sin we can com the con dis p ( zt , t| , nt , ) exa .
min - bat .
a com tec in sto lea is to con mul obs per upd to red noi ( 123 , 123 ) .
in onl lda , thi mea com usi s > 123 obs :
kw = + d
whe nts is the sth doc in min - bat t .
the var par ts and ts for thi doc are t wit a nor e ste .
not tha we rec bat vb whe s = d and = 123
in bat var lda , poi est of the hyp and can be t giv and usi a lin - tim new - rap met ( 123 ) .
we can lik
alg 123 onl var bay for lda
den t ( cid : 123 ) ( 123 + t ) for t = 123 to do
ini tk = 123
( the con 123 is arb . ) set twk exp ( eq ( log tk ) + eq ( log kw ) )
set tk = + ( cid : 123 )
k |ch int < 123
com kw = + dnt set = ( 123 t ) + t
inc upd for and int onl lda :
whe ( t ) is the inv of the hes tim the gra ( cid : 123 ) ( nt , t , t , ) , ( ) is the inv of the hes tim the gra l , and t ( cid : 123 ) ( 123 + t ) as els .
123 ana of con
in thi sec we sho tha alg 123 con to a sta poi of the obj den in equ 123
sin var inf rep sam wit opt , we can use res fro sto opt to ana onl lda .
sto opt alg opt an ob - jec usi noi est of its gra ( 123 ) .
alt the is no exp gra com , alg 123 can be int as a sto nat gra alg ( 123 , 123 ) .
we beg by der a rel rst - ord sto gra alg for lda .
let g ( n ) den the pop dis ove doc n fro whi we wil rep sam doc :
i ( n = nd ) is 123 if n = nd and 123 oth .
if thi pop con of the d doc in the cor , the we can rew equ 123 as
g ( n ) ( cid : 123 ) 123
i ( n = nd ) .
l ( g , ) ( cid : 123 ) deg ( ( cid : 123 ) ( n , ( n , ) , ( n , ) , ) | ) .
whe ( cid : 123 ) is den as in equ 123
we can opt equ 123 ove by rep dra an obs nt g , com t ( cid : 123 ) ( nt , ) and t ( cid : 123 ) ( nt , ) , and app the upd
+ td ( cid : 123 ) ( nt , t , t , )
d ( cid : 123 ) ( nd , d , d , ) .
thu , sin ( cid : 123 )
whe t ( cid : 123 ) ( 123 + t ) as in alg 123
if we con on the cur val of and tre t and t as ran var dra at the sam tim as eac obs doc nt , the eg ( d ( cid : 123 ) ( nt , t , t , ) | ) = , the ana in ( 123 ) sho bot tha con and tha the gra d ( cid : 123 ) ( nd , d , d , ) con to 123 , and thu tha con to a sta poi . 123 the upd in equ 123 onl mak use of rst - ord gra inf .
sto gra alg can be spe up by mul the gra by the inv of an app pos den mat h ( 123 ) .
one cho for h is the hes of the obj fun .
in var inf , an alt is to use the fis inf mat of the var dis q ( i . e . , the hes of the log of the var pro den fun ) , whi cor to usi
t=1 t = and ( cid : 123 )
123 we use a det pro to com and giv n and , thi ana can als be
app if and are opt usi a ran alg .
we add thi cas in the sup .
a nat gra met ins of a ( qua - ) new met ( 123 , 123 ) .
fol the ana in ( 123 ) , the gra of the per - doc elb ( cid : 123 ) can be wri as
( kv / d + / d + ntv ) ( kv / d + / d + ntv ) ,
v=1 123 log q ( k ) ( cid : 123 ) ( cid : 123 ) 123 log q ( log k )
whe we hav use the fac tha eq ( log kv ) is the der of the log - nor of q ( log k ) .
by den , mul equ 123 by the inv of the fis inf mat yie
= kw / d + / d + ntw .
mul equ 123 by td and add it to kw yie the upd for in alg 123
thu we can int our alg as a sto nat gra alg , as in ( 123 ) .
123 rel wor
com wit oth sto lea alg .
in the sta sto gra op - tim set , the num of par to be t doe not dep on the num of obs ( 123 ) .
how , som lea alg mus als t a set of per - obs par ( suc as the per - doc var par d and d in lda ) .
the pro is add by on - lin coo asc alg suc as tho des in ( 123 , 123 , 123 , 123 , 123 ) .
the goa of the alg is to set the glo par so tha the obj is as goo as pos onc the per - obs par are opt .
mos of the app ass the com of a uni opt for the per - obs par , whi is not ava for lda .
efc sam met .
mar cha mon car ( mcm ) met for one cla of app inf alg for lda .
col gib sam ( cgs ) is a pop mcm app tha sam fro the pos ove top ass z by rep sam the top ass zdi con on the dat and all oth top ass ( 123 ) .
one onl mcm app ada cgs by sam top ass zdi bas on the top ass and dat for all pre ana wor , ins of all oth wor in the cor ( 123 ) .
thi alg is fas and has con mem req , but is not gua to con to the pos .
two alt onl mcm app wer con in ( 123 ) .
the rst , cal inc lda , per res the top ass for pre ana wor .
the sec app use par lte ins of cgs .
in a stu in ( 123 ) , non of the thr onl mcm alg per as wel as bat cgs .
ins of onl met , the aut of ( 123 ) use par com to app lda to lar cor .
the dev two app par cgs sch for lda tha gav sim pre per - for on hel - out doc to bat cgs .
how , the req par har , and the com and mem cos sti sca lin wit the num of doc .
exc for the alg in ( 123 ) ( whi is not gua to con ) , all of the mcm alg des abo hav mem cos tha sca lin wit the num of doc ana .
by con , bat vb can be imp usi con mem , and par eas .
as we wil sho in the nex sec , its onl cou is eve fas .
we ran sev exp to eva onl lda efc and eff .
the rst set of exp com alg 123 and 123 on sta dat .
the sec set of exp eva onl vb in the set whe new doc are con bei obs .
bot alg wer imp in pyt usi num .
the imp are as sim as pos . 123
123 - sou pyt imp of bat and onl lda can be fou at htt : / / www . cs .
tab 123 : bes set of and 123 for var min - bat siz s , wit res per on nat and wik cor .
bes par set for nat cor
bes par set for wik cor
fig 123 : hel - out per obt on the nat ( lef ) and wik ( rig ) cor as a fun - tio of cpu tim .
for mod lar min - bat siz , onl lda nds sol as goo as tho tha the bat lda nds , but wit muc les com .
whe t to a 123 , 123 - doc sub of the tra cor bat lda spe imp , but its per suf .
we use per on hel - out dat as a mea of mod t .
per is den as the geo mea of the inv mar pro of eac wor in the hel - out set of doc :
per ( nte , , ) ( cid : 123 ) exp
tes den the vec of wor cou for the ith doc .
sin we can dir
i log p ( nte
| , ) , we use a low bou on per as a pro :
, i , zi| , ) ) eq ( log q ( i , zi ) ) ) ( ( cid : 123 )
com log p ( nte per ( nte , , ) exp
the per - doc par i and i for the var dis q ( i ) and q ( zi ) are t usi the e ste in alg 123
the top are t to a tra set of doc and the hel xed .
in all exp and are xed at 123 and the num of top k = 123
the is som que as to the mea of per as a met for com dif top mod ( 123 ) .
hel - out lik met are non wel sui to mea how wel an inf alg acc the spe opt tas den by a mod .
eva lea par .
onl lda int sev lea par : ( 123 , 123 ) , whi con how qui old inf is for 123 123 , whi dow ear ite and the min - bat siz s , whi con how man doc are use eac ite .
alt onl lda con to a sta poi for any val , 123 , and s , the qua of thi sta poi and the spe of con may dep on how the lea par are set .
we eva a ran of set of the lea par , 123 , and s on two cor : 123 , 123 doc fro the jou nat 123 and 123 , 123 doc dow fro the eng ver -
123 the nat art , we rem all wor not in a pru voc of 123 , 123 wor .
tim in sec ( log sca ) per siz in sec ( log sca ) per siz sio of wik 123
for eac cor , we set asi a 123 , 123 - doc tes set and a sep 123 , 123 - doc val set .
we the ran onl lda for ve hou on the rem doc - men fro eac cor for ( 123 , 123 , 123 , 123 , 123 , 123 ) , 123 ( 123 , 123 , 123 , 123 , 123 , 123 ) , and s ( 123 , 123 , 123 , 123 , 123 , 123 , 123 , 123 ) , for a tot of 123 run per cor .
aft ve hou of cpu tim , we com per on the tes set for the top obt at the end of eac t .
tab 123 sum the bes set for eac cor of and 123 for a ran of set of s .
the sup inc a mor exh sum .
the bes lea par set for bot cor wer = 123 , 123 = 123 , and s = 123
the bes set of and 123 are con acr the two cor .
for min - bat siz fro 123 to 123 the is lit dif in per sco .
sev tre eme fro the res .
hig val of the lea rat and the dow par 123 lea to bet per for sma min - bat siz s , but wor per for lar val of s .
min - bat siz of at lea 123 doc out sma min - bat siz .
com bat and onl on xed cor .
to com bat lda to onl lda , we eva - ate hel - out per as a fun of tim on the nat and wik cor abo .
we tri var min - bat siz fro 123 to 123 , 123 , usi the bes lea par for eac min - bat siz fou in the pre stu of the nat cor .
we als eva bat lda t to a 123 , 123 - doc sub of the tra cor .
we com per on a sep val set fro the tes set use in the pre exp .
eac alg ran for 123 hou of cpu tim .
fig 123 sum the res .
on the lar nat cor , onl lda nds a sol as goo as the bat alg wit muc les com .
on the sma wik cor , the onl al - gor nds a bet sol tha the bat alg doe .
the bat alg con qui on the 123 , 123 - doc cor , but mak les acc pre on hel - out doc .
tru onl .
to dem the abi of onl vb to per in a tru onl set , we wro a pyt scr to con dow and ana min - bat of art cho at ran fro a lis of app 123 mil wik art .
thi scr can dow and ana abo 123 , 123 art an hou .
it com a pas thr all 123 mil art in und thr day .
the amo of tim nee to dow an art and con it to a vec of wor cou is com to the amo of tim tha the onl lda alg tak to ana it .
we ran onl lda wit = 123 , 123 = 123 , and s = 123
fig 123 sho the evo of the per obt on the hel - out val set of 123 , 123 wik art by the onl alg as a fun of num of art see .
sho for com is the per obt by the onl alg ( wit the sam par ) t to onl 123 , 123 wik art , and tha obt by the bat alg t to the sam 123 , 123 art .
the onl alg out the bat alg reg of whi tra dat is use , but it doe bes wit acc to a con str of nov doc .
the bat alg fai to out the onl alg on lim dat may be due to sto gra rob to loc opt ( 123 ) .
the onl alg con aft ana abo hal of the 123 mil art .
eve one ite of the bat alg ove tha man art wou hav tak day .
we hav dev onl var bay ( vb ) for lda .
thi alg req onl a few mor lin of cod tha the tra bat vb of ( 123 ) , and is han app to mas and str doc col .
onl vb for lda app the pos as wel as pre app in a fra of the tim .
the app we use to der an onl ver of bat vb for lda is gen ( and sim ) eno to app to a wid var of hie bay mod .
ble is sup by onr 123 - 123 , nsf car 123 , afo 123 , the alf p .
slo fou , and a gra fro goo .
bac is sup by anr ( mga pro ) .
123 the wik art , we rem all wor not fro a xed voc of 123 , 123 com wor .
thi voc was obt by rem wor les tha 123 cha lon fro a lis of the 123 , 123 mos com - mon wor in pro gut tex obt fro htt : / / en . wik . org / wik / wik : fre lis .
