we introduce the scape method ( shape completion and anima - tion for people ) ( cid : 123 ) a data - driven method for building a human shape model that spans variation in both subject shape and pose .
the method is based on a representation that incorporates both artic - ulated and non - rigid deformations .
we learn a pose deformation model that derives the non - rigid surface deformation as a function of the pose of the articulated skeleton .
we also learn a separate model of variation based on body shape .
our two models can be combined to produce 123d surface models with realistic muscle defor - mation for different people in different poses , when neither appear in the training set .
we show how the model can be used for shape completion ( cid : 123 ) generating a complete surface mesh given a limited set of markers specifying the target shape .
we present applications of shape completion to partial view completion and motion capture animation .
in particular , our method is capable of constructing a high - quality animated surface model of a moving person , with real - istic muscle deformation , using just a single static scan and a marker motion capture sequence of the person .
i . 123 ( computer graphics ) : computational ge - ometry and object modeling ( cid : 123 ) hierarchy and geometric transfor - mations; i . 123 ( computer graphics ) : three - dimensional graphics keywords : synthetic actors , deformations , animation , morphing
graphics applications often require a complete surface model for rendering and animation .
obtaining a complete model of a partic - ular person is often dif ( cid : 123 ) cult or impossible .
even when the person
copyright 123 by the association for computing machinery , inc .
permission to make digital or hard copies of part or all of this work for personal or classroom use is granted without fee provided that copies are not made or distributed for commercial advantage and that copies bear this notice and the full citation on the first page .
copyrights for components of this work owned by others than acm must be honored .
abstracting with credit is permitted .
to copy otherwise , to republish , to post on servers , or to redistribute to lists , requires prior specific permission and / or a fee .
request permissions from permissions dept , acm inc . , fax +123 ( 123 ) 123 - 123 or e - mail permissions@acm . org .
123 acm 123 - 123 / 123 / 123 - 123 $123
can be constrained to remain motionless inside of a cyberware full body scanner , incomplete surface data is obtained due to occlusions .
when the task is to obtain a 123d sequence of the person in motion , the situation can be even more dif ( cid : 123 ) cult .
existing marker - based mo - tion capture systems usually provide only sparse measurements at a small number of points on the surface .
the desire is to map such sparse data into a fully animated 123d surface model .
this paper introduces the scape method ( shape completion and animation for people ) ( cid : 123 ) a data - driven method for building a uni ( cid : 123 ) ed model of human shape .
our method learns separate mod - els of body deformation ( cid : 123 ) one accounting for changes in pose and one accounting for differences in body shape between humans .
the models provide a level of detail suf ( cid : 123 ) cient to produce dense full - body meshes , and capture details such as muscle deformations of the body in different poses .
importantly , our representation of de - formation allows the pose and the body shape deformation spaces to be combined in a manner which allows proper deformation scaling .
for example , our model can correctly transfer the deformations of a large person onto a small person and vice versa .
the pose deformation component of our model is acquired from a set of dense 123d scans of a single person in multiple poses .
a key as - pect of our pose model is that it decouples deformation into a rigid and a non - rigid component .
the rigid component of deformation is described in terms of a low degree - of - freedom rigid body skele - ton .
the non - rigid component captures the remaining deformation such as ( cid : 123 ) exing of the muscles .
in our model , the deformation for a body part is dependent only on the adjacent joints .
therefore , it is relatively low dimensional , allowing the shape deformation to be learned automatically , from limited training data .
our representation also models shape variation that occurs across different individuals .
this model component can be acquired from a set of 123d scans of different people in different poses .
the shape variation is represented by using principal component anal - ysis ( pca ) , which induces a low - dimensional subspace of body shape deformations .
importantly , the model of shape variation does not get confounded by deformations due to pose , as those are ac - counted for separately .
the two parts of the model form a single uni ( cid : 123 ) ed framework for shape variability of people .
the framework can be used to generate a complete surface mesh given only a suc - cinct speci ( cid : 123 ) cation of the desired shape ( cid : 123 ) the angles of the human skeleton and the eigen - coef ( cid : 123 ) cients describing the body shape .
we apply our model to two important graphics tasks .
the ( cid : 123 ) rst is partial view completion .
most scanned surface models of humans
have signi ( cid : 123 ) cant missing regions .
given a partial mesh of a person for whom we have no previous data , our method ( cid : 123 ) nds the shape that best ( cid : 123 ) ts the observed partial data in the space of human shapes .
the model can then be used to predict a full 123d mesh .
importantly , be - cause our model also accounts for non - rigid pose variability , muscle deformations associated with the particular pose are predicted well even for unobserved parts of the body .
the second task is producing a full 123d animation of a moving person from marker motion capture data .
we approach this problem as a shape completion task .
the input to our algorithm is a single scan of the person and a time series of extremely sparse data ( cid : 123 ) the locations of a limited set of markers ( usually between 123 and 123 ) placed on the body .
for each frame in the sequence , we predict the full 123d shape of the person , in a pose consistent with the observed marker positions .
applying this technique to sequences of motion capture data produces full - body human 123d animations .
we show that our method is capable of constructing high - quality animations , with realistic muscle deformation , for people of whom we have a single range scan .
in both of these tasks , our method allows for variation of the in - dividual body shape .
for example , it allows for the synthesis of a person with a different body shape , not present in the original set of scans .
the motion for this new character can also be synthesized , either based on a motion capture trajectory for a real person ( of sim - ilar size ) , or keyframed by an animator .
thus , our approach makes it possible to create realistic shape completions and dense 123d ani - mations for people whose exact body shape is not included in any of the available data sources .
123 related work
the recent example - based approaches for learning deformable hu - man models represent deformation by point displacements of the example surfaces , relative to a generic template shape .
for model - ing pose deformation , the template shape is usually assumed to be an articulated model .
a popular animation approach called skin - ning ( described in ( lewis et al .
123 ) ) assumes that the point dis - placements are generated by a weighted set of ( usually linear ) in - ( cid : 123 ) uences from neighboring joints .
a more sophisticated method was presented by allen et al .
( 123 ) , who register an articulated model ( represented as a posable subdivision template ) to scans of a human in different poses .
the displacements for a new pose are predicted by interpolating from a set of example scans with similar joint an - gles .
a variety of related methods ( lewis et al .
123; sloan et al .
123; wang and phillips 123; mohr and gleicher 123 ) differ only in the details of representing the point displacements , and in the par - ticular interpolation method used .
models of pose deformation are learned not only from 123d scans , but also by combining shape - from - silhouette and marker motion capture sequences ( sand et al .
however , none of the above approaches learn a model of the shape changes between different individuals .
to model body shape variation across different people , allen et al .
( 123 ) morph a generic template shape into 123 scans of differ - ent humans in the same pose .
the variability of human shape is captured by performing principal component analysis ( pca ) over the displacements of the template points .
the model is used for hole - ( cid : 123 ) lling of scans and ( cid : 123 ) tting a set of sparse markers for people captured in the standard pose .
another approach , by seo and thal - mann ( 123 ) , decomposes the body shape deformation into a rigid and a non - rigid component , of which the latter is also represented as a pca over point displacements .
neither approach learns a model of pose deformation .
however , they demonstrate preliminary anima - tion results by using expert - designed skinning models .
animation is done by bringing the space of body shapes and the skinning model into correspondence ( this can be done in a manual or semi - automatic way ( hilton et al .
123 ) ) , and adding the point displacements ac - counting for pose deformation to the human shape .
such skinning models are part of standard animation packages , but since they are usually not learned from scan data , they usually dont model muscle
figure 123 : the mesh processing pipeline used to generate our training set .
( a ) we acquired two data sets spanning the shape variability due to differ - ent human poses and different physiques .
( b ) we select a few markers by hand mapping the template mesh and each of the range scans .
( c ) we apply the correlated correspondence algorithm , which computes numerous addi - tional markers .
( d ) we use the markers as input to a non - rigid registration algorithm , producing fully registered meshes .
( e ) we apply a skeleton re - construction algorithm to recover an articulated skeleton from the registered meshes .
( f ) we learn the space of deformations due to pose and physique .
an obvious approach for building a data - driven model of pose and body shape deformation would be to integrate two existing methods in a similar way .
the main challenge lies in ( cid : 123 ) nding a good way to combine two distinct deformation models based on point displacements .
point displacements cannot be multiplied in a mean - ingful way; adding them ignores an important notion of scale .
for example , pose displacements learned on a large individual cannot be added to the shape of a small individual without undesirable ar - tifacts .
this problem has long been known in the ( cid : 123 ) elds of deforma - tion transfer and expression cloning ( noh and neumann 123 ) .
in order to address it , we take an inspiration in the deformation transfer method of sumner and popovic ( 123 ) .
it shows how to retarget the deformation of one mesh to another , assuming point - to - point cor - respondences between them are available .
the transfer maintains proper scaling of deformation , by representing the deformation of each polygon using a 123 ( cid : 123 ) 123 matrix .
it suggests a way of mapping pose deformations onto a variety of human physiques .
however , it does not address the task of representing and learning a deformable human model , which is tackled in this paper .
multilinear models , which are closely related to our work , have been applied for modeling face variation in images ( vasilescu and terzopoulos 123 ) .
a generative model of human faces has to ad - dress multiple factors of image creation such as illumination , ex - pression and viewpoint .
the face is modeled as a product of linear appearance models , corresponding to in ( cid : 123 ) uences of the various fac - tors .
ongoing work is applying multilinear approaches to model 123d face deformation ( vlasic et al .
our method adapts the idea to the space of human body shapes , which exhibits articulated structure that makes human body modeling different from face modeling .
in particular , we directly relate surface deformations to the underlying body skeleton .
such a model would not be suf ( cid : 123 ) cient to address face deformation , because a signi ( cid : 123 ) cant part of the deformation is purely muscle - based , and is not correlated with the skeleton .
our shape - completion application is related to work in the area of hole - ( cid : 123 ) lling .
surfaces acquired with scanners are typically incom - plete and contain holes .
a common way to complete these holes is to ( cid : 123 ) ll them with a smooth surface patch that meets the boundary conditions of the hole ( curless and levoy 123; davis et al .
123; liepa 123 ) .
these approaches work well when the holes are small compared to the geometric variation of the surface .
our application ,
by contrast , requires the ( cid : 123 ) lling of huge holes ( e . g . , in some experi - ments more than half of the surface was not observed; in others we are only provided with sparse motion capture data ) and we address it with a model - based method .
other model - based solutions for hole ( cid : 123 ) lling were proposed in the past .
kahler et al .
( 123 ) and szeliski and lavallee ( 123 ) use volumetric template - based methods for this problem .
these approaches work well for largely convex objects , such as a human head , but are not easily applied to objects with branching parts , such as the human body .
while the work of allen et al .
( 123 ) can be used for hole - ( cid : 123 ) lling of human bodies , it can only do so if the humans are captured in a particular pose .
marker motion capture systems are widely available , and can be used for obtaining high - quality 123d models of a moving per - son .
existing animation methods ( e . g .
( allen et al .
123; seo and magnenat - thalmann 123 ) ) do not utilize the marker data and as - sume the system directly outputs the appropriate skeleton angles .
they also do not handle body shape variation well , as previously discussed .
both of these limitations are lifted in our work .
123 acquiring and processing data meshes
the scape model acquisition is data driven , and all the information about the shape is derived from a set of range scans .
this section describes the basic pipeline for data acquisition and pre - processing of the data meshes .
this pipeline , displayed in in fig .
123 , consists largely of a combination of previously published methods .
the spe - ci ( cid : 123 ) c design of the pipeline is inessential for the main contribution of this paper; we describe it ( cid : 123 ) rst to introduce the type of data used for learning our model .
range scanning we acquired our surface data using a cyber - ware wbx whole - body scanner .
the scanner captures range scans from four directions simultaneously and the models contain about 123k points .
we used this scanner to construct full - body instance meshes by merging the four scan views ( curless and levoy 123 ) and subsampling the instances to about 123 , 123 triangles ( garland and heckbert 123 ) .
using the process above , we obtained two data sets : a pose data set , which contains scans of 123 poses of a particular person in a wide variety of poses , and a body shape data set , which contains scans of 123 different people in a similar ( but not identical ) pose .
we also added eight publicly available models from the caesar data set ( allen et al .
123 ) to our data set of individuals .
we selected one of the meshes in the pose data set to be the tem - plate mesh; all other meshes will be called instance meshes .
the function of the template mesh is to serve as a point of reference for all other scans .
the template mesh is hole - ( cid : 123 ) lled using an al - gorithm by davis et al . ( 123 ) .
in acquiring the template mesh , we ensured that only minor holes remained mostly between the legs and the armpits .
the template mesh and some sample instance meshes are displayed in fig .
note that the head region is smoothed in some of the ( cid : 123 ) gures , in order to hide the identity of the scan subjects; the complete scans were used in the learning algorithm .
correspondence the next step in the data acquisition pipeline brings the template mesh into correspondence with each of the other mesh instances .
current non - rigid registration algorithms require that a set of corresponding markers between each instance mesh and the template is available ( the work of allen et al .
( 123 ) uses about 123 markers for registration ) .
we obtain the markers using an algorithm called correlated correspondence ( cc ) ( anguelov et al .
the cc algorithm computes the consistent embedding of each instance mesh into the template mesh , which minimizes defor - mation , and matches similar - looking surface regions .
to break the scan symmetries , we initialize the cc algorithm by placing 123 ( cid : 123 ) 123 markers by hand on each pair of scans .
the result of the algorithm is a set of 123 ( cid : 123 ) 123 ( approximate ) correspondence markers between the two surfaces , as illustrated in fig
non - rigid registration given a set of markers between two meshes , the task of non - rigid registration is well understood and a variety of algorithms exist ( allen et al .
123; hahnel et al .
123; sumner and popovic 123 ) .
the task is to bring the meshes into
close alignment , while simultaneously aligning the markers .
we ap - ply a standard algorithm ( hahnel et al .
123 ) to register the template mesh with all of the meshes in our data set .
as a result , we obtain a set of meshes with the same topology , whose shape approximates well the surface in the original cyberware scans .
several of the re - sulting meshes are displayed in fig
recovering the articulated skeleton as discussed in the intro - duction , our model uses a low degree - of - freedom skeleton to model the articulated motion .
we construct a skeleton for our template mesh automatically , using only the meshes in our data set .
we ap - plied the algorithm of ( anguelov et al .
123 ) , which uses a set of registered scans of a single subject in a variety of con ( cid : 123 ) gurations .
the algorithm exploits the fact that vertices on the same skeleton joint are spatially contiguous , and exhibit similar motion across the it automatically recovers a decomposition of the object into approximately rigid parts , the location of the parts in the different object instances , and the articulated object skeleton linking the parts .
based on our pose data set , the algorithm automatically constructed a skeleton with 123 parts .
the algorithm broke both the crotch area and the chest area into two symmetric parts , resulting in a skeleton which was not tree - structured .
to facilitate pose editing , we combined the two parts in each of these regions into one .
the result was a tree - structured articulated skeleton with 123 parts .
data format and assumptions the resulting data set con - sists of a model mesh x and a set of instance meshes y = fy 123; : : : ;y n g .
the model mesh x = fvx ;px g has a set of vertices vx = fx123; : : : ;xmg and a set of triangles px = fp123; : : : ; ppg .
the in - stance meshes are of two types : scans of the same person in various poses , and scans of multiple people in approximately the same pose .
as a result of our pre - processing , we can assume that each in - stance mesh has the same set of points and triangles as the model mesh , albeit in different con ( cid : 123 ) gurations .
thus , let y i = fyi be the set of points in instance mesh y i .
as we also mapped each of the instance meshes onto our articulated model in the pre - processing phase , we also have , for each mesh y i , a set of absolute rotations ri for the rigid parts of the model , where ri is the rotation of joint in
123; : : : ;yi
the data acquisition and pre - processing pipeline provides us with exactly this type of data; however , any other technique for generat - ing similar data will also be applicable to our learning and shape
123 pose deformation
this and the following sections describe the scape model , which is the main contribution of this paper .
in the scape model , deforma - tions due to changes in pose and body shape are modeled separately .
in this section , we focus on learning the pose deformation model .
123 deformation process
we want to model the deformations which align the template with each mesh y i in the data set containing different poses of a human .
the deformations are modeled for each triangle pk of the template .
we use a two - step , translation invariant representation of triangle deformations , accounting for a non - rigid and a rigid component of the deformation .
let triangle pk contain the points xk;123;xk;123;xk;123
we apply our deformations in terms of the triangles local coor - dinate system , obtained by translating point xk;123 to the global ori - gin .
thus , the deformations will be applied to the triangle edges ( cid : 123 ) vk; j = xk; j ( cid : 123 ) xk;123 , j = 123;123
first , we apply a 123 ( cid : 123 ) 123 linear transformation matrix qi
k to the tri - angle .
this matrix , which corresponds to a non - rigid pose - induced deformation , is speci ( cid : 123 ) c to each triangle pk and each pose yi .
the deformed polygon is then rotated by ri , the rotation of its rigid part in the articulated skeleton .
the same rotation is applied to all trian - gles that belong to that part .
letting ( k ) be the body part associated
bias , we associate a 123 ( cid : 123 ) 123 regression vector ak;lm with each of the 123 values of the matrix q , and write :
k;lm = at
k;lm ( cid : 123 ) ( cid : 123 ) 123ri
l;m = 123;123;123
thus , for each triangle pk , we have to ( cid : 123 ) t 123 ( cid : 123 ) 123 entries ak = l;m = 123;123;123 ) .
with these parameters , we will have k = qak ( 123ri our goal now is to learn these parameters ak;lm .
if we are given the transformation qi k for each instance y i and the rigid part rota - tions ri , solving for the regression values ( using a quadratic cost function ) is straightforward .
it can be carried out for each triangle k and matrix value qk;lm separately :
i ( cid : 123 ) ( 123ri 123 ) ak;lm ( cid : 123 ) qi
in practice , we can save on model size and computation by iden - tifying joints which have only one or two degrees of freedom .
al - lowing those joints to have three degrees of freedom can also cause over ( cid : 123 ) tting in some cases .
we performed pca on the observed an - gles of the joints 123ri , removing axes of rotation whose eigenvalues are smaller than 123 .
the associated entries in the vector ak;lm are then not estimated .
the value 123 was obtained by observing a plot of the sorted eigenvalues .
we found that the pruned model mini - mally increased cross - validation error , while decreasing the number of parameters by roughly one third .
as discussed , the rigid part rotations are computed as part of our preprocessing step .
unfortunately , the transformations qi k for the individual triangles are not known .
we estimate these matrices by ( cid : 123 ) tting them to the transformations observed in the data .
however , the problem is generally underconstrained .
we follow sumner et al .
( 123 ) and allen et al .
( 123 ) , and introduce a smoothness con - straint which prefers similar deformations in adjacent polygons that belong to the same rigid part .
speci ( cid : 123 ) cally , we solve for the correct set of linear transformations with the following equation for each mesh y i :
k ( cid : 123 ) vk; j ( cid : 123 ) vi
k; jk123 +
i ( k123 = k123 ) ( cid : 123 ) kqi
k123 ( cid : 123 ) qi
where ws = 123 : 123r and r is the resolution of the model mesh x .
above , i ( ( cid : 123 ) ) is the indicator function .
the equation can be solved separately for each rigid part and for each row of the q matrices .
given the estimated q matrices , we can solve for the ( at most ) 123 ( cid : 123 ) 123 regression parameters ak for each triangle k , as described in eq
123 application to our data set we applied this method to learn a scape pose deformation model using the 123 training instances in our pose data set .
123 shows examples of meshes that can be represented by our learned model .
note that these examples do not correspond to meshes in the training data set; they are new poses synthesized completely from a vector of joint rotations r , using eq .
( 123 ) to de ( cid : 123 ) ne the q matrices , and eq .
( 123 ) to generate the mesh .
the model captures well the shoulder deformations , the bulging of the biceps and the twisting of the spine .
it deals reasonably well with the elbow and knee joints , although example ( g ) illustrates a small amount of elbow smoothing that occurs in some poses .
the model exhibits an artifact in the armpit , which is caused by hole - ( cid : 123 ) lling in the template mesh .
generating each mesh given the matrices takes approximately 123 second , only 123 orders of magnitude away from real time , open - ing the possibility of using this type of deformation model for real - time animation of synthesized or cached motion sequences .
figure 123 : an illustration of our model for triangle deformation .
with triangle pk , we can write : k; j = ri
k ( cid : 123 ) vk; j;
j = 123;123
the deformation process is sketched in fig .
a key feature of this model is that it combines an element modeling the deformation of the rigid skeleton , with an element that allows for arbitrary local deformations .
the latter is essential for modeling muscle deforma -
given a set of transformation matrices q and r associated with a pose instance , our methods predictions can be used to synthesize a mesh for that pose .
for each individual triangle , our method makes a prediction for the edges of pk as rkqk ( cid : 123 ) vk; j .
however , the predictions for the edges in different triangles are rarely consistent .
thus , to construct a single coherent mesh , we solve for the location of the points y123; : : : ;ym that minimize the overall least squares error :
k ( cid : 123 ) v j;k ( cid : 123 ) ( y j;k ( cid : 123 ) y123;k ) k123
note that , as translation is not directly modeled , the problem has a translational degree of freedom .
by anchoring one of the points y ( in each connected component of the mesh ) to a particular location , we can make the problem well - conditioned , and reconstruct the mesh in the appropriate location .
( see ( sumner and popovic 123 ) for a very related discussion on mesh reconstruction from a set of deformation
123 learning the pose deformation model we showed how to model pose - induced deformations using a set of k for the template triangles pk .
we want to predict these deformations from the articulated human pose , which is represented as a set of relative joint rotations .
if r123 and r123 are the absolute rotation matrices of the two rigid parts adjacent to some joint , the relative joint rotation is simply rt
joint rotations are conveniently represented with their twist coor - dinates .
let m denote any 123 ( cid : 123 ) 123 rotation matrix , and let mi j be its entry in i - th row and j - th column .
the twist t for the joint angle is a 123d vector , and can be computed from the following formula ( ma et al .
123 ) :
m123 ( cid : 123 ) m123
123sin kqk " m123 ( cid : 123 ) m123 m123 ( cid : 123 ) m123 #
with q = cos ( cid : 123 ) 123 ( cid : 123 ) tr ( m ) ( cid : 123 ) 123
the direction of the twist vector represents the axis of rotation , and the magnitude of the twist represents the rotation amount .
dicts the transformation matrices qi its two nearest joints 123ri ( k ) = ( 123ri a matrix qi greatly reduce the dimensionality of the learning problem .
we learn a regression function for each triangle pk which pre - k as a function of the twists of ( k ) ;123 ) .
by assuming that k can be predicted in terms of these two joints only , we each joint rotation is speci ( cid : 123 ) ed using three parameters , so alto - ( k ) has six parameters .
adding a term for the constant
figure 123 : examples of muscle deformations that can be captured in the scape pose model .
123 learning the shape deformation model
to map out the space of body shape deformations , we view the dif - ferent matrices si as arising from a lower dimensional subspace .
for each example mesh , we create a vector of size 123 ( cid : 123 ) n containing the parameters of matrices si .
we assume that these vectors are gener - ated from a simple linear subspace , which can be estimated by using
si = su;m ( bi ) = ubi +m
where ubi +m is a ( vector form ) reconstruction of the 123 ( cid : 123 ) n matrix coef ( cid : 123 ) cients from the pca , and ubi +m is the representation of this vector as a set of matrices .
pca is appropriate for modeling the ma - trix entries , because body shape variation is consistent and not too strong .
we found that even shapes which are three standard devia - tions from the mean still look very much like humans ( see fig .
k for each i;k we can easily solve for the pca parameters u , m , and the mesh - speci ( cid : 123 ) c coef ( cid : 123 ) - cients bi .
however , as in the case of pose deformation , the indi - vidual shape deformation matrices si k are not given , and need to be estimated .
we use the same idea as above , and solve directly for si with the same smoothing term as in eq
if we are given the af ( cid : 123 ) ne matrices si
k ( cid : 123 ) vk; j ( cid : 123 ) vi
k; jk123 + ws ( cid : 123 )
k123 ( cid : 123 ) si
k123 k123 : ( 123 )
importantly , recall that our data preprocessing phase provides us with an estimate ri for the joint rotations in each instance mesh , and therefore the joint angles 123ri .
from these we can compute the predicted pose deformations qi ( k ) ) using our learned pose deformation model .
thus , the only unknowns in eq .
( 123 ) are the shape deformation matrices si k .
the equation is quadratic in these unknowns , and therefore can be solved using a straightforward
k = qak ( 123ri
123 application to our data set
we applied this method to learn a scape body shape deformation model using the 123 instances in the body shape data set , and taking as a starting point the pose deformation model learned as described in sec .
123 shows the mean shape and the ( cid : 123 ) rst four prin - cipal components in our pca decomposition of the shape space .
these components represent very reasonable variations in weight and height , gender , abdominal fat and chest muscles , and bulkiness of the chest versus the hips .
figure 123 : the ( cid : 123 ) rst four principal components in the space of body shape
123 body - shape deformation
the scape model also encodes variability due to body shape across different individuals .
we now assume that the scans of our training set y i correspond to different individuals .
123 deformation process we model the body - shape variation independently of the pose vari - ation , by introducing a new set of linear transformation matrices k , one for each instance i and each triangle k .
we assume that the triangle pk observed in the instance mesh i is obtained by ( cid : 123 ) rst applying the pose deformation qi k , then the body shape deforma - k , and ( cid : 123 ) nally the rotation associated with the corresponding ( k ) .
the application of consecutive transformation matrices maintains proper scaling of deformation .
we obtain the following extension to eq
k; j = ri
k ( cid : 123 ) vk; j :
the body deformation associated with each subject i can thus be modeled as a set of matrices si = fsi
k : k = 123; : : : ;pg .
figure 123 : deformation transfer by the scape model .
the ( cid : 123 ) gure shows three subjects , each in four different poses .
each subject was seen in a single reference pose only
our pca space spans a wide variety of human body shapes .
put together with our pose model , we can now synthesize realistic scans of various people in a broad range of poses .
assume that we are given a set of rigid part rotations r and person body shape parame - ters b .
the joint rotations r determine the joint angles 123r .
for a given triangle pk , the pose model now de ( cid : 123 ) nes a deformation matrix qk = qak ( 123r ( k ) ) .
the body shape model de ( cid : 123 ) nes a deformation matrix sk = su;m ( b ) .
as in eq .
( 123 ) , we solve for the vertices y that minimize the objective : eh ( y ) = ( cid : 123 )
krksu;m ( b ) qak ( 123r ( k ) ) ( cid : 123 ) v j;k ( cid : 123 ) ( y j;k ( cid : 123 ) y123;k ) k123 ( 123 )
the objective can be solved separately along each dimension of the
using this approach , we can generate a mesh for any body shape in our pca space in any pose .
123 shows some examples of differ - ent synthesized scans , illustrating variation in both body shape and pose .
the ( cid : 123 ) gure shows that realistic muscle deformation is achieved for very different subjects , and for a broad range of poses .
123 shape completion
so far , we have focused on the problem of constructing the two com - ponents of our scape model from the training data : the regression parameters fak : k = 123; : : : ;pg of the pose model , and the pca pa - rameters u;m of our body shape model .
we now show how to use the scape model to address the task of shape completion , which is the main focus of our work .
we are given sparse information about an instance mesh , and wish to construct a full mesh consistent with this information; the scape model de ( cid : 123 ) nes a prior on the deforma - tions associated with human shape , and therefore provides us with guidance on how to complete the mesh in a realistic way .
assume we have a set of markers z = z123; : : : ;zl which specify known positions in 123d for some points x123; : : : ;xl on the model mesh .
we want to ( cid : 123 ) nd the set of points y that best ( cid : 123 ) ts these known posi - tions , and is also consistent with the scape model .
in this setting , the joint rotations r and the body shape parameters b are also not known .
we therefore need to solve simultaneously for y , r , and b minimizing the objective :
eh ( y ) + wz
kyl ( cid : 123 ) zlk123;
where eh ( y ) was de ( cid : 123 ) ned in eq .
( 123 ) and wz is a weighting term that trades off the ( cid : 123 ) t to the markers and the consistency with the model .
figure 123 : examples of view completion , where each row represents a dif - ferent partial view scan .
subject ( i ) is in our data set but not in the this pose; neither subjects ( ii ) and ( iii ) nor their poses are represented in our data set .
( a ) the original partial view .
( b ) the completed mesh from the same perspective as ( a ) , with the completed portion in yellow .
( c ) the completed mesh from a view showing the completed portion .
( d ) a true scan of the same subject from the view in ( c ) .
a solution to this optimization problem is a completed mesh y ( z ) that both ( cid : 123 ) ts the observed marker locations and is consistent with the predictions of our learned scape model .
it also produces a set of joint rotations r and shape parameters b .
note that these parameters can also be used to produce a predicted mesh ( cid : 123 ) y ( z ) , as in sec .
this predicted mesh is ( by de ( cid : 123 ) nition ) constrained to be within our pca subspace of shapes; thus it generally does not encode some of the details unique to the new ( partial ) instance mesh to be completed .
as we shall see , the predicted mesh ( cid : 123 ) y ( z ) can also be useful for smoothing certain undesirable artifacts .
( 123 ) is a general non - linear optimization problem to which a number of existing optimization techniques can be applied .
our speci ( cid : 123 ) c implementation of the optimization is intended to address the fact that eq .
( 123 ) is non - linear and non - convex , hence is sub - ject to local minima .
empirically , we ( cid : 123 ) nd that care has to be taken to avoid local minima .
hence , we devise an optimization routine that slows the adaptation of certain parameters in the optimization , thereby avoiding the danger of converging to sub - optimal shape completions .
in particular , optimizing over all of the variables in this equation using standard non - linear optimization methods is not a good idea .
our method uses an iterative process , where it opti - mizes each of the three sets of parameters ( r , b , and y ) separately , keeping the others ( cid : 123 ) xed .
the resulting optimization problem still contains a non - linear op - timization step , due to the correlation between the absolute part ro -
tations r and the joint rotations 123r , both of which appear in the objective of eq .
we use an approximate method to deal with this problem .
our approach is based on the observation that the ac - tual joint rotations r in ( cid : 123 ) uence the point locations much more than their ( fairly subtle ) effect on the pose deformation matrices via 123r .
thus , we can solve for r while ignoring the effect on 123r , and then update 123r and the associated matrices qa ( 123r ) .
this approxima - tion gives excellent results , as long as the value of 123r does not change much during each optimization step .
to prevent this from happening , we add an additional term to the objective in eq .
the term penalizes steps where adjacent parts ( parts that share a joint ) move too differently from each other .
speci ( cid : 123 ) cally , when optimizing r , we approximate rotation using the standard approximation rnew ( cid : 123 ) ( i + ( cid : 123 ) t ) rold , where t = ( t123;t123;t123 ) is a twist vector , and
surface y ( z ) .
then we use these correspondences as markers and solve eq .
( 123 ) to obtain a new estimate y ( z ) of the surface .
upon convergence , we obtain a completion mesh y ( z ) , which ( cid : 123 ) ts the par - tial view surface as well as the scape model .
123 shows the application of this algorithm to three partial views .
row ( i ) shows partial view completion results for a sub - ject who is present in our data set , but in a pose that is not in our data set .
the prediction for the shoulder blade deformation is very realistic; a similar deformation is not present in the training pose for this subject .
rows ( ii ) and ( iii ) show completion for subjects who are not in our data set , in poses that are not in our data set .
the task in row ( ii ) is particularly challenging , both because the pose is very different from any pose in our data set , and because the subject was wearing pants , which we cut out , ( see fig .
123 ( ii ) - ( d ) ) , leading to the large hole in the original scan .
nevertheless , the completed mesh contains realistic deformations in both the back and the legs .
( cid : 123 ) t = 123
123 motion capture animation
let t denote the twist vector for a part .
the term preventing large joint rotations then is simply ( cid : 123 ) 123;123 adj kt123 ( cid : 123 ) t123 k123
we are now ready to state the overall optimization technique ap -
plied in our work .
this techniques iteratively repeats three steps :
( cid : 123 ) we update r , resulting in the following equation :
k ( i + ( cid : 123 ) tk ) roldsq ( cid : 123 ) v j;k ( cid : 123 ) ( y j;k ( cid : 123 ) y123;k ) k123
+ wt ( cid : 123 )
kt123 ( cid : 123 ) t123 k123
here s = su;m ( b ) according to the current value of b , q = qak ( 123r ( k ) ) where 123r is computed from rold , and wt is an appropriate trade - off parameter .
after each update to r , we update 123r and q accordingly .
( cid : 123 ) we update y to optimize eq .
( 123 ) , with r and b ( cid : 123 ) xed .
in this case , the s and q matrices are determined , and the result is a simple quadratic objective that can be solved ef ( cid : 123 ) ciently using
( cid : 123 ) we update b to optimize eq
in this case , r and the q matrices are ( cid : 123 ) xed , as are the point positions y , so that the objective reduces to a simple quadratic function of b : krk ( ub+m ) kq ( cid : 123 ) v j;k ( cid : 123 ) ( y j;k ( cid : 123 ) y123;k ) k123
this optimization process converges to a local optimum of the
objective eq
our shape completion framework can also be applied to produce animations from marker motion capture sequences .
in this case , we have a sequence of frames , each specifying the 123d positions for some set of markers .
we can view the set of markers observed in each frame as as our input z to the algorithm of sec .
123 , and use the algorithm to produce a mesh .
the sequence of meshes produced for the different frames can be strung together to produce a full 123d animation of the motion capture sequence .
note that , in many motion capture systems , the markers protrude from the body , so that a reconstructed mesh that achieves the ex - act marker positions observed may contain unrealistic deformations .
therefore , rather than using the completed mesh y ( z ) ( as in our par - tial view completion task ) , we use the predicted mesh ( cid : 123 ) y ( z ) .
as this mesh is constrained to lie within the space of body shapes encoded by our pca model , it tends to avoid these unrealistic deformations .
we applied this data to two motion capture sequences , both for the same subject s .
notably , our data set only contains a single scan for subject s , in the standard position shown in the third row of fig .
each of the sequences used 123 markers per frame , dis - tributed over the entire body .
we took a 123d scan of subject s with the markers , and used it to establish the correspondence between the observed markers and points on the subjects surface .
we then applied the algorithm of sec .
123 to each sequence frame .
frame , we used the previous frames estimated pose r as a starting point for the optimization .
the animation was generated from the sequence of predicted scans ( cid : 123 ) y ( z f ) .
using our ( unoptimized ) imple - mentation , it took approximately 123 minutes to generate each frame .
123 demonstrates some of our results .
we show that realistic mus - cle deformation was obtained for subject s ( fig .
additionally , we show that motion transfer can be performed onto a different sub - ject in our data set ( fig .
123 ( d ) ) and that the subject can be changed during the motion sequence ( fig .
123 ( e ) ) .
123 partial view completion
123 discussion and limitations
an obvious application of our shape completion method is to the task of partial view completion .
here , we are given a partial scan of a human body; our task is to produce a full 123d mesh which is consistent with the observed partial scan , and provides a realistic completion for the unseen parts .
our shape completion algorithm of sec .
123 applies directly to this task .
we take the partial scan , and manually annotate it with a small number of markers ( 123 ( cid : 123 ) 123 markers , 123 on average ) .
we then apply the cc algorithm ( anguelov et al .
123 ) to register the partial scan to the template mesh .
the result is a set of 123 ( cid : 123 ) 123 markers , mapping points on the scan to corresponding points on the template mesh .
this number of markers is suf ( cid : 123 ) cient to obtain a reasonable initial hypothesis for the rotations r of the rigid skeleton .
we then iter - ate between two phases .
first , we ( cid : 123 ) nd point - to - point correspon - dences between the partial view and our current estimate of the
this paper presents the scape model , which captures human shape deformation due to both pose variation and to body shape variation over different subjects .
our results demonstrate that the model can generate realistic meshes for a wide range of subjects and poses .
we showed how the scape model can be used for shape completion , and cast two important graphics tasks ( cid : 123 ) partial view completion and motion capture animation ( cid : 123 ) as applications of our shape com -
the scape model decouples the pose deformation model and the body shape deformation model .
this design choice greatly sim - pli ( cid : 123 ) es the mathematical formulation , improves the identi ( cid : 123 ) ability of the model from data , and allows for more ef ( cid : 123 ) cient learning algo - rithms .
however , it also prevents us from capturing phenomena where there is a strong correlation between body shape and muscle deformation .
for example , as the same muscle deformation model
figure 123 : motion capture animation .
( a ) subject wearing motion capture markers ( b ) motion capture markers in a single frame ( c ) an animation of a subject based on a motion capture sequence , with the markers from which the animation was derived superimposed on the meshes .
( d ) an example of motion transfer to a different subject in our data set .
( e ) animation based on motion capture , but where we change the body shape parameters in pca space as we move through the sequence .
is used for all people , we do not capture the fact that more muscular people are likely to exhibit greater muscle deformation than others , and , conversely , that muscle deformation may be obscured in peo - ple with signi ( cid : 123 ) cant body fat .
to capture these correlations , a more expressive model would be needed .
our current approach requires a set of scans of a single person in different poses to learn the space of pose deformations .
once we have done this , we can use scans of different people in different poses to learn the space of body shapes .
we are currently not pro - viding a method to learn both spaces from a random mix of scans from different people in different poses .
our assumption on the training set structure is not particularly restrictive , and it simpli ( cid : 123 ) es our data collection and learning procedures .
we could try to learn our model from a non - uniform data set , by iterating between esti - mating either the pose or the body shape model while keeping the other one ( cid : 123 ) xed .
this process would result in a local minimum in the joint space of deformations .
we cannot predict how good this local minimum would be; it depends speci ( cid : 123 ) cally on the training data we are given , and on the search method used .
the pose deformation in our model is determined by linear re - gression from adjacent joint angles .
we found that this assump - tion provides surprisingly good animation results , and simpli ( cid : 123 ) es the task of shape completion .
for many instances of partial view com - pletion , a more accurate model may not be necessary , because our solution is allowed to deform outside of scape space in order to
( cid : 123 ) t the observed surface .
thus , partial view data can correct some of the ( fairly small ) errors resulting from the assumption of a lin - ear regression model .
when the scape model is used purely for animation , a more complex model may be required in some cases .
extending our approach with a non - linear regression method is an area of our future work .
the scape model is focused on representing muscle deforma - tions resulting from articulated body motion .
deformations result - ing from other factors are not encoded .
one such factor is deforma - tion resulting from pure muscle activity .
thus , the model is not ex - pressive enough to distinguish between a ( cid : 123 ) exed bicep muscle and a lax one in cases where the joint angle is the same .
for the same rea - son , it is not appropriate to deal with faces , where most of the mo - tion is purely muscle - based .
another factor leading to muscle de - formation is tissue perturbations due to motion ( e . g . , fat wiggling ) , which our model also does not represent .
currently , our framework includes no prior over poses .
thus , when encountering occlusions , we cannot use the observed position of some body parts to constrain the likely location of others .
our model can easily be extended to encompass such a prior , in a mod - ular way .
for example , in the case of static scans , a kinematic prior such as that of popovic et al . ( 123 ) could simply be introduced as an additional term into our optimization .
when animating dynamic sequences , we can use a tracking algorithm ( e . g . , a kalman ( cid : 123 ) lter ) to generate a pose prior for any frame given all or part of the observa -
finally , we note that our approach is purely data driven , generat - ing the entire model from a set of data scans .
human intervention is required only for placing a small set of markers on the scans , as a starting point for registration .
thus , the model can easily be applied to other data sets , allowing us to generate models speci ( cid : 123 ) c to certain types of body shapes or certain poses .
moreover , the framework ap - plies more generally to cases where surface deformation is derived from articulated motion .
thus , if we could solve the data acquisition problem ( e . g . , using shape from silhouette ( cheung et al .
123 ) ) , we could use this framework to learn realistic deformation models for creatures other than humans .
this work was supported by by the onr young investigator ( pecase ) grant n123 - 123 - 123 - 123 , and onr grant n123 - 123 - 123 - 123 under the dod muri program .
we would like to acknowledge the indispensable help of lars mundermann , stefano corazza and the stanford biomechan - ics group , who provided us with the scan data .
